<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo Butterfly é…ç½®æŒ‡å—</title>
    <url>/2024/06/11/Hexo%20Butterfly%20%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<h2 id="åŸºç¡€ç¯å¢ƒé…ç½®"><a href="#åŸºç¡€ç¯å¢ƒé…ç½®" class="headerlink" title="åŸºç¡€ç¯å¢ƒé…ç½®"></a>åŸºç¡€ç¯å¢ƒé…ç½®</h2><p>Hexoæ¡†æ¶çš„ä¸‹è½½ä½¿ç”¨ä»¥åŠéƒ¨åˆ†ä¸»é¢˜æ–¹é¢çš„ç¾åŒ–ï¼Œä¸»è¦å‚ç…§<a href="https://nickxu.me/2022/02/13/Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆã€‡ï¼‰å‰è¨€/?highlight=butter">Nick Xu å»ºç«™æŒ‡å—</a>ã€‚</p>
<p>æ­£æ–‡</p>
<ul>
<li><a href="https://nickxu.me/2022/02/13/Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆã€‡ï¼‰å‰è¨€/">Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆã€‡ï¼‰å‰è¨€</a></li>
<li><a href="https://nickxu.me/2022/02/13/Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆä¸€ï¼‰Hexo-æ¡†æ¶/">Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆä¸€ï¼‰Hexo æ¡†æ¶</a></li>
<li><a href="https://nickxu.me/2022/02/14/Hexo-Butterfly-å»ºç«™æŒ‡å—ï¼ˆäºŒï¼‰éƒ¨ç½²è‡³ä¸ªäººç«™ç‚¹æˆ–-GithubPages/">Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆäºŒï¼‰éƒ¨ç½²è‡³ä¸ªäººç«™ç‚¹æˆ– GitHub Pages</a></li>
<li><a href="https://nickxu.me/2022/02/17/Hexo-Butterfly-å»ºç«™æŒ‡å—ï¼ˆä¸‰ï¼‰Butterfly-ä¸»é¢˜/">Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆä¸‰ï¼‰Butterfly ä¸»é¢˜</a></li>
<li><a href="https://nickxu.me/2022/02/19/Hexo-Butterfly-å»ºç«™æŒ‡å—ï¼ˆå››ï¼‰Twikoo-è¯„è®ºç³»ç»Ÿ/">Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆå››ï¼‰Twikoo è¯„è®ºç³»ç»Ÿ</a></li>
<li><a href="https://nickxu.me/2022/02/20/Hexo-Butterfly-å»ºç«™æŒ‡å—ï¼ˆäº”ï¼‰æ—¥å¸¸å†™ä½œ/">Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆäº”ï¼‰æ—¥å¸¸å†™ä½œ</a></li>
<li><a href="https://nickxu.me/2022/02/23/Hexo-Butterfly-å»ºç«™æŒ‡å—ï¼ˆå…­ï¼‰PicGO-+-Gitee-å›¾åºŠ/">Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆå…­ï¼‰PicGO + Gitee å›¾åºŠï¼ˆå·²åºŸå¼ƒï¼‰</a></li>
<li><a href="https://nickxu.me/2022/03/28/Hexo-Butterfly-å»ºç«™æŒ‡å—ï¼ˆä¸ƒï¼‰é˜¿é‡Œäº‘-OSS-å›¾åºŠ/">Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆä¸ƒï¼‰é˜¿é‡Œäº‘ OSS å›¾åºŠ</a></li>
<li><a href="https://nickxu.me/2022/04/17/Hexo-Butterfly-å»ºç«™æŒ‡å—ï¼ˆå…«ï¼‰ä½¿ç”¨-KaTeX-æ•°å­¦å…¬å¼/">Hexo + Butterfly å»ºç«™æŒ‡å—ï¼ˆå…«ï¼‰ä½¿ç”¨ KaTeX æ•°å­¦å…¬å¼</a></li>
</ul>
<p>è¿™é‡Œè®²å¾—è¶³å¤Ÿè¯¦ç»†ï¼Œå…³äºç¯å¢ƒé…ç½®ï¼Œå¯ä»¥å‚ç…§ä¸€äºŒç« ï¼Œå…³äºç¾åŒ–éƒ¨åˆ†ï¼Œå¯ä»¥çœ‹çœ‹ç¬¬ä¸‰ç« ï¼Œå…¶å®ƒéƒ¨åˆ†é…Œæƒ…å‚è€ƒå³å¯ï¼ˆç•™å‡ºæ›´å¤šçš„DIYç©ºé—´ï½ï¼‰ã€‚</p>
<h2 id="ä¸»é¢˜é…ç½®"><a href="#ä¸»é¢˜é…ç½®" class="headerlink" title="ä¸»é¢˜é…ç½®"></a>ä¸»é¢˜é…ç½®</h2><p>ä¸»é¢˜æ–¹é¢çš„é…ç½®ä¸»è¦å›´ç»•<a href="https://butterfly.js.org/posts/21cfbf15/">butterfly å®˜æ–¹æ–‡æ¡£</a>è¿›è¡Œï¼Œä½œè€…ä¸ºæˆ‘ä»¬é¢„ç•™äº†è®¸å¤šç¾åŒ–ç©ºé—´ã€‚</p>
<blockquote>
<p>ğŸ“š æ–‡æ¡£ç›®å½•</p>
<p>ğŸš€ <a href="https://butterfly.js.org/posts/21cfbf15/">å¿«é€Ÿå¼€å§‹</a> - ğŸ“‘ <a href="https://butterfly.js.org/posts/dc584b87/">ä¸»é¢˜é¡µé¢</a> - ğŸ“Œ <a href="https://butterfly.js.org/posts/4aa8abbe/">ä¸»é¢˜é…ç½®-1</a> - âš”ï¸ <a href="https://butterfly.js.org/posts/ceeb73f/">ä¸»é¢˜é…ç½®-2</a> - â“ <a href="https://butterfly.js.org/posts/98d20436/">ä¸»é¢˜é—®ç­”</a> - âš¡ï¸ <a href="https://butterfly.js.org/posts/4073eda/">è¿›é˜¶æ•™ç¨‹</a></p>
</blockquote>
<p>åœ¨å¿«é€Ÿå¼€å§‹ä¸­ï¼Œå®Œæˆä¸»é¢˜ä»¥åŠæ¸²æŸ“æ’ä»¶çš„ä¸‹è½½ã€‚</p>
<p>åœ¨ä¸»é¢˜é¡µé¢ä¸­ï¼Œå­¦ä¹ ä¸°å¯Œåšå®¢çš„ç»“æ„ï¼Œå®Œå–„å¯¼èˆªæ ã€‚é™¤äº†åŸºæœ¬posté¡µé¢ï¼Œè¿˜æœ‰æ ‡ç­¾é¡µã€åˆ†ç±»é¡µã€å‹é“¾ã€å¨±ä¹é¡µç­‰ã€‚</p>
<p>ä¸»é¢˜é…ç½®1å’Œ2ä¾§é‡äºå¯¹åšå®¢ç»†èŠ‚è¿›è¡Œè°ƒæ•´ï¼Œè¿™é‡Œä¼šå•ç‹¬æ¥è®²ã€‚</p>
<p>å‰©ä¸‹çš„ä¸¤ä¸ªéƒ¨åˆ†ä¸»è¦è§£å†³ä¸€äº›é…ç½®è¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼ŒåŒæ—¶è°ˆè®ºäº†ä¸€äº›å¯è¿›ä¸€æ­¥æ‹“å±•çš„æ–¹å‘ã€‚</p>
<h2 id="é…ç½®ç´¢å¼•"><a href="#é…ç½®ç´¢å¼•" class="headerlink" title="é…ç½®ç´¢å¼•"></a>é…ç½®ç´¢å¼•</h2><blockquote>
<p>ç»¼åˆä¸Šè¿°ä¸»é¢˜é…ç½®1å’Œ2ï¼Œæˆ‘åŸºäºé…ç½®æºä»£ç åšäº†ä¸€äº›ç´¢å¼•ä»¥ä¾¿åç»­ä¾¿æ·åœ°è°ƒæ•´ã€‚</p>
</blockquote>
<h3 id="åŸºç¡€è®¾ç½®ç´¢å¼•"><a href="#åŸºç¡€è®¾ç½®ç´¢å¼•" class="headerlink" title="åŸºç¡€è®¾ç½®ç´¢å¼•"></a>åŸºç¡€è®¾ç½®ç´¢å¼•</h3><ul>
<li>è¯­è¨€ä¸ç«™ç‚¹åŸºæœ¬èµ„æ–™ï¼š_config.yml &gt; #Site</li>
<li>å¯¼èˆªæ è®¾ç½®ï¼šNavigation bar settings</li>
<li>ä»£ç å—è®¾ç½®ï¼šCode Blocks</li>
<li>ç¤¾äº¤å›¾æ ‡ï¼šSocial Settings</li>
<li>å›¾åƒ<ul>
<li>å¤´åƒï¼šavatar</li>
<li>é¡¶éƒ¨å›¾ï¼štop_img</li>
<li>æ–‡ç« å°é¢ï¼šcover</li>
</ul>
</li>
<li>ä¸»é¡µæ–‡ç« å±•ç¤º<ul>
<li>å±•ç¤ºmetaï¼špost_meta</li>
<li>èŠ‚é€‰ï¼šindex_post_content</li>
<li>é”šç‚¹ï¼šanchor</li>
<li>å†…å®¹å›¾ç‰‡æè¿°ï¼šphotofigcaption</li>
</ul>
</li>
<li>æ–‡ç« é¡µå†…éƒ¨<ul>
<li>å¤åˆ¶ç‰ˆæƒï¼šcopy settings</li>
<li>ç›®å½•ï¼štoc</li>
<li>ç‰ˆæƒï¼špost_copyright</li>
<li>æ‰“èµï¼šreward</li>
<li>ç¼–è¾‘æŒ‰é’®ï¼špost_edit</li>
<li>ç›¸å…³æ–‡ç« ï¼šrelated_post</li>
<li>æœ«å°¾è·³è½¬æ–¹å¼ï¼špost_pagination</li>
<li>è¿‡æœŸæé†’ï¼šnoticeOutdate</li>
</ul>
</li>
<li>é¡µè„šè®¾ç½®ï¼šFooter Settings</li>
<li>ä¾§è¾¹æ è®¾ç½®ï¼šaside<ul>
<li>è®¿é—®äººæ•°ï¼šbusuanzi</li>
<li>è¿è¡Œæ—¶é—´ï¼šruntimeshow</li>
<li>æœ€æ–°è¯„è®ºï¼šnewest_comments</li>
<li><a href="https://butterfly.js.org/posts/ea33ab97/">è‡ªå®šä¹‰è¾¹æ </a></li>
</ul>
</li>
<li><p>å³ä¸‹è§’æŒ‰é’®ï¼šBotton right button</p>
</li>
<li><p><a href="https://butterfly.js.org/posts/4aa8abbe/#æ¨™ç±¤å¤–æ›ï¼ˆTag-Pluginsï¼‰">htmlæ ‡ç­¾å¤–æŒ‚</a></p>
</li>
</ul>
<h3 id="å¢å€¼æœåŠ¡ç´¢å¼•"><a href="#å¢å€¼æœåŠ¡ç´¢å¼•" class="headerlink" title="å¢å€¼æœåŠ¡ç´¢å¼•"></a>å¢å€¼æœåŠ¡ç´¢å¼•</h3><ul>
<li>æ•°å­¦å…¬å¼æ¸²æŸ“ï¼šMath</li>
<li>æœç´¢ï¼šsearch</li>
<li>åˆ†äº«ï¼šShare System</li>
<li>è¯„è®ºï¼šComments System</li>
<li>åœ¨çº¿èŠå¤©ï¼šChat Services</li>
<li>åˆ†æç»Ÿè®¡ï¼šAnalysis</li>
<li>å¹¿å‘Šï¼šAdvertisement</li>
<li>ç½‘ç«™/ç«™ç‚¹éªŒè¯ï¼šVerification</li>
<li>å­—æ•°ç»Ÿè®¡ï¼šwordcount</li>
<li>å›¾ç‰‡å¤§å›¾æŸ¥çœ‹ï¼šLightbox</li>
<li>Pjaxï¼špjax</li>
<li>å¼¹çª—ï¼šSnackbar</li>
<li>é¢„åŠ è½½ï¼šinstantpage</li>
<li>ä¸­è‹±æ–‡é—´åŠ ç©ºæ ¼ï¼špangu</li>
<li>å›¾ç‰‡æ‡’åŠ è½½ï¼šLazyload</li>
<li>è¿›é˜¶ç½‘ç«™ï¼šPWA</li>
<li>å¼€å›¾ï¼šOpen Graph</li>
<li>CSSå‰ç¼€ï¼šcss_prefix</li>
<li>ç‰¹æ•ˆï¼ˆcss or jsï¼‰æ³¨å…¥ï¼šInject</li>
<li>åŠ é€Ÿï¼šCDN</li>
</ul>
<h3 id="ç‰¹æ•ˆç¾åŒ–ç´¢å¼•"><a href="#ç‰¹æ•ˆç¾åŒ–ç´¢å¼•" class="headerlink" title="ç‰¹æ•ˆç¾åŒ–ç´¢å¼•"></a>ç‰¹æ•ˆç¾åŒ–ç´¢å¼•</h3><ul>
<li>è‡ªå®šä¹‰ä¸»é¢˜è‰²ï¼šTheme color for customize</li>
<li>ä¸»é¡µtop_imgæ˜¾ç¤ºå¤§å°ï¼šindex_site_info_top</li>
<li>æ–‡å­—å·¦å³å¯¹é½ï¼štext_align_justify</li>
<li>ç½‘ç«™ï¼ˆæ–‡ç« å±•ç¤ºéƒ¨åˆ†ï¼‰èƒŒæ™¯ï¼šWebsite Background</li>
<li>é¡µè„šèƒŒæ™¯ï¼šfooter_bg</li>
<li>æ‰“å­—æ•ˆæœï¼šTypewriter Effect</li>
<li>èƒŒæ™¯ç‰¹æ•ˆï¼šBackground effects</li>
<li>é¼ æ ‡ç‚¹å‡»æ•ˆæœï¼šMouse Click</li>
<li>markdowné¡µé¢ç¾åŒ–ï¼šBeautify</li>
<li>è‡ªå®šä¹‰å­—ä½“å’Œå­—ä½“å¤§å°ï¼šGlobal font settings</li>
<li>æ°´å¹³åˆ†å‰²çº¿å›¾æ ‡è®¾ç½®ï¼šhr_icon</li>
<li>ç½‘ç«™å‰¯æ ‡é¢˜ï¼ˆæ‰“å­—éƒ¨åˆ†ï¼‰ï¼šsubtitle</li>
<li>é¡µé¢åŠ è½½åŠ¨ç”»ï¼špreloader</li>
</ul>
]]></content>
      <categories>
        <category>æŒ‡å—</category>
      </categories>
      <tags>
        <tag>ç¾åŒ–</tag>
        <tag>æŒ‡å—</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2024/06/09/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>init</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>init</tag>
      </tags>
  </entry>
  <entry>
    <title>Test</title>
    <url>/2024/06/10/test/</url>
    <content><![CDATA[<p>hexo<br>test test<br>${123}$</p>
<p><img src="https://raw.githubusercontent.com/EverForests/PicGo/master/footer.jpg" alt="test"></p>
]]></content>
      <categories>
        <category>init</category>
      </categories>
      <tags>
        <tag>test</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºç¡€ç®—æ³•</title>
    <url>/2024/08/15/acking/BasicAlgorithm/</url>
    <content><![CDATA[<h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><h3 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h3><p><a href="https://www.acwing.com/activity/content/problem/content/819/">åŸé¢˜é“¾æ¥</a></p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ol>
<li>ç¡®å®šä¸€ä¸ªå‚ç…§æ•°æ®ï¼Œåˆå§‹åŒ–å¤´å°¾æŒ‡é’ˆï¼Œåˆ†åˆ«ç§»åŠ¨æŒ‡é’ˆï¼Œå‘å‚ç…§æ•°æ®é€¼è¿‘ã€‚</li>
<li>å…ˆç§»åŠ¨å·¦æŒ‡é’ˆï¼Œæ‰¾åˆ°å¤§äºå‚ç…§å…ƒç´ çš„ä½ç½®ï¼›å†ç§»åŠ¨å³æŒ‡é’ˆï¼Œæ‰¾åˆ°å°äºå‚ç…§å…ƒç´ çš„ä½ç½®ã€‚</li>
<li>å¦‚æœåˆæ³•ï¼Œå³å·¦æŒ‡é’ˆä½ç½®å°äºå³æŒ‡é’ˆï¼Œå°±äº¤æ¢ä¸¤ä¸ªä½ç½®ä¸Šçš„å…ƒç´ ã€‚</li>
<li>é‡å¤ä¸Šè¿°3æ­¥ï¼Œåˆ†æ²»å‚ç…§æ•°æ®å·¦å³ä¸¤è¾¹çš„æ•°åˆ—ï¼Œç›´è‡³æ‰¾åˆ°æ‰€æœ‰å…ƒç´ åº”è¯¥åœ¨çš„ä½ç½®ã€‚</li>
</ol>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sort</span><span class="params">(<span class="type">int</span> *q, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> x = q[l + r &gt;&gt; <span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> i = l<span class="number">-1</span>, j = r+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="keyword">do</span> i++; <span class="keyword">while</span> (q[i] &lt; x);</span><br><span class="line">        <span class="keyword">do</span> j--; <span class="keyword">while</span> (q[j] &gt; x);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; j) <span class="built_in">swap</span>(q[i], q[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(q, l, j);</span><br><span class="line">    <span class="built_in">sort</span>(q, j+<span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="built_in">sort</span>(a, <span class="number">0</span>, n<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‹“å±•ï¼š</p>
<ol>
<li>sort(q, l, j)åœ¨åˆ†æ²»æ—¶è¦æ³¨æ„æ•°åˆ—å¤´å°¾æè¿°çš„åˆç†æ€§ã€‚ä¸èƒ½å†™æˆsort(q, l, i)ï¼Œä¾‹å¦‚æ•°åˆ—1 0åœ¨è¿™æ ·å¤„ç†æ—¶ä¼šå‘ç”Ÿæ­»å¾ªç¯ã€‚ä¸èƒ½æƒ³å½“ç„¶åœ°è®¤ä¸ºlä¸jæ˜¯ç›¸ç­‰çš„ã€‚</li>
<li>æ•°åˆ—è¶Šæœ‰åºï¼Œå¿«æ’æ€§èƒ½è¶Šä½ï¼›è¶Šæ— åºï¼Œå¿«æ’æ€§èƒ½è¶Šé«˜ã€‚</li>
</ol>
<h3 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h3><p><a href="https://www.acwing.com/activity/content/problem/content/821/">åŸé¢˜é“¾æ¥</a></p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>ä¸å¿«æ’çš„æ€è·¯ç›¸ä¼¼ï¼Œä¸¤è€…éƒ½ä»¥åˆ†æ²»ç®—æ³•ä¸ºæ ¸å¿ƒï¼Œåªä¸è¿‡å½’å¹¶æ’åºæ˜¯å…ˆåˆ†ç»„å†å¤„ç†ï¼Œå¿«æ’é¡ºåºç›¸åç½¢äº†ã€‚æ³¨æ„æ¯ä¸€æ­¥å¤„ç†çš„æ•°æ®å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œå“ªäº›æ­¥éª¤å¯ä»¥åŒæ­¥å¤„ç†ï¼Œå“ªäº›æ­¥éª¤å¯ä»¥å¼‚æ­¥å¤„ç†ã€‚</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N], b[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sort</span><span class="params">(<span class="type">int</span> *q, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> mid = (l + r &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">sort</span>(q, l, mid);</span><br><span class="line">    <span class="built_in">sort</span>(q, mid+<span class="number">1</span>, r);</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> i = l, j = mid+<span class="number">1</span>, s = l;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r) &#123;</span><br><span class="line">        <span class="keyword">if</span> (q[i] &lt;= q[j]) b[s] = q[i++];</span><br><span class="line">        <span class="keyword">else</span> b[s] = q[j++];</span><br><span class="line">        s++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> u = i; u &lt;= mid; u++) b[s] = q[u], s++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> u = j; u &lt;= r; u++) b[s] = q[u], s++;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> u = l; u &lt;= r; u++) q[u] = b[u];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="built_in">sort</span>(a, <span class="number">0</span>, n<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‹“å±•ï¼š</p>
<p>å½’å¹¶æ’åºæ˜¯ç¨³å®šç®—æ³•ã€‚</p>
<h2 id="äºŒåˆ†"><a href="#äºŒåˆ†" class="headerlink" title="äºŒåˆ†"></a>äºŒåˆ†</h2><p><a href="https://www.acwing.com/activity/content/problem/content/823/">åŸé¢˜é“¾æ¥</a></p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>åŸºäºå¯é‡æœ‰åºæ•°åˆ—ï¼Œä¸æ–­å–ä¸­éƒ¨æ•°æ®è¿›è¡Œåˆ¤æ–­ï¼Œç¼©å°ç›®æ ‡å…ƒç´ æ‰€åœ¨èŒƒå›´ï¼Œå¸¸è§é—®é¢˜æ˜¯å¯»æ‰¾é‡å¤æ•°æ®çš„å·¦éƒ¨ä½ç½®å’Œå³éƒ¨ä½ç½®ã€‚</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> n, q, k;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="keyword">while</span> (q--) &#123;</span><br><span class="line">        cin &gt;&gt; k;</span><br><span class="line">  </span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, r = n<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="type">int</span> mid = (l + r &gt;&gt; <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (a[mid] &gt;= k) r = mid;  <span class="comment">// å¯»æ‰¾å·¦éƒ¨æ•°æ®</span></span><br><span class="line">            <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="type">int</span> left = l;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (a[left] != k) cout &lt;&lt; <span class="string">&quot;-1 -1&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            l = <span class="number">0</span>, r = n<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">                <span class="type">int</span> mid = (l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>);  <span class="comment">// é¿å…è¿›å…¥æ­»å¾ªç¯ï¼Œè‹¥ä¸åŠ 1å¯¹äºâ€œ1 0â€å°±ä¸åˆæ³•ï¼Œæ‰¾1ä¼šè¿›å…¥æ­»å¾ªç¯ï¼Œæ‰¾0åˆ™æ‰¾ä¸åˆ°ã€‚</span></span><br><span class="line">                <span class="keyword">if</span> (a[mid] &gt; k) r = mid - <span class="number">1</span>;  <span class="comment">// å¯»æ‰¾å³éƒ¨æ•°æ®</span></span><br><span class="line">                <span class="keyword">else</span> l = mid;</span><br><span class="line">            &#125;</span><br><span class="line">      </span><br><span class="line">            <span class="type">int</span> right = l;</span><br><span class="line">            cout &lt;&lt; left &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; right &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é«˜ç²¾åº¦"><a href="#é«˜ç²¾åº¦" class="headerlink" title="é«˜ç²¾åº¦"></a>é«˜ç²¾åº¦</h2><h3 id="é«˜ç²¾åº¦åŠ æ³•"><a href="#é«˜ç²¾åº¦åŠ æ³•" class="headerlink" title="é«˜ç²¾åº¦åŠ æ³•"></a>é«˜ç²¾åº¦åŠ æ³•</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ol>
<li>å¯¹å¤§é•¿åº¦æ•°æ®ä½¿ç”¨å‘é‡é€†åºå­˜å‚¨ã€‚</li>
<li>é€†å‘æ€è€ƒï¼Œæ³¨æ„æœ€ç»ˆç»“æœæ¯ä¸€ä½æ˜¯ç”±å“ªäº›éƒ¨åˆ†ç»„æˆçš„ï¼ŒåŒ…å«ä¸Šä¸€ä½çš„è¿›ä½ã€ä¸¤æ•°å¯¹åº”ä½çš„å’Œã€‚</li>
<li>æ³¨æ„å‘é‡vectorè¿™ä¸€æ•°æ®ç»“æ„çš„ç‰¹æ€§ï¼Œå®ƒæ˜¯åŠ¨æ€æ•°ç»„ï¼Œéœ€è¦é¿å…è®¿é—®è¶Šç•Œé—®é¢˜ã€‚</li>
</ol>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; a, b;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(vector&lt;<span class="type">int</span>&gt; a, vector&lt;<span class="type">int</span>&gt; b)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; c;</span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        t += a[i];</span><br><span class="line">        <span class="keyword">if</span> (i &lt; b.<span class="built_in">size</span>()) t += b[i];</span><br><span class="line">        c.<span class="built_in">push_back</span>(t%<span class="number">10</span>);</span><br><span class="line">        t /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (t) c.<span class="built_in">push_back</span>(t);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = c.<span class="built_in">size</span>()<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) cout &lt;&lt; c[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s1, s2;</span><br><span class="line">    cin &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> n1 = s1.<span class="built_in">length</span>(), n2 = s2.<span class="built_in">length</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n1<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) a.<span class="built_in">push_back</span>(s1[i]-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n2<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) b.<span class="built_in">push_back</span>(s2[i]-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (n1 &gt;= n2) <span class="built_in">add</span>(a, b);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">add</span>(b, a);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…ˆå…³æ³¨æ€è·¯å’Œé€»è¾‘ï¼Œå†æƒ³æƒ³å“ªäº›åœ°æ–¹å¯ä»¥ä¼˜åŒ–ã€‚</p>
</blockquote>
<h3 id="é«˜ç²¾åº¦å‡æ³•"><a href="#é«˜ç²¾åº¦å‡æ³•" class="headerlink" title="é«˜ç²¾åº¦å‡æ³•"></a>é«˜ç²¾åº¦å‡æ³•</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ul>
<li>ä¸é«˜ç²¾åº¦åŠ é‡‡å–çš„æ•°æ®ç»“æ„ä¸€è‡´ï¼Œåªæ˜¯æ“ä½œè§„åˆ™ä¸åŒ</li>
<li>å…ˆåˆ¤æ–­ä¸¤æ•°çš„å¤§å°å…³ç³»ï¼Œå†åšç›¸å‡ï¼ŒæŸç§æƒ…å†µä¸‹åŠ ä¸Šè´Ÿå·</li>
</ul>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span> æ¯”è¾ƒä¸¤æ•°å¤§å°ï¼Œä»ä½æ•°ã€å„ä½æ•°å¤§å°åˆ†æ</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (A.<span class="built_in">size</span>() != B.<span class="built_in">size</span>()) <span class="keyword">return</span> A.<span class="built_in">size</span>() &gt; B.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = A.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">        <span class="keyword">if</span> (A[i] != B[i])</span><br><span class="line">            <span class="keyword">return</span> A[i] &gt; B[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">sub</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span>  ä¸¤æ•°ç›¸å‡</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        t = A[i] - t;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; B.<span class="built_in">size</span>()) t -= B[i];</span><br><span class="line">        C.<span class="built_in">push_back</span>((t + <span class="number">10</span>) % <span class="number">10</span>);</span><br><span class="line">        <span class="keyword">if</span>(t &lt; <span class="number">0</span>) t = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> t = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) C.<span class="built_in">pop_back</span>();  è€ƒè™‘å‡å®Œåé«˜ä½ä¸º<span class="number">0</span>çš„æƒ…å†µ</span><br><span class="line">    <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string a, b;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; A, B, C;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) A.<span class="built_in">push_back</span>(a[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = b.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) B.<span class="built_in">push_back</span>(b[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">cmp</span>(A, B)) C = <span class="built_in">sub</span>(A, B);</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">    &#123;</span><br><span class="line">        C = <span class="built_in">sub</span>(B, A);</span><br><span class="line">        cout &lt;&lt; <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) cout &lt;&lt; C[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‹“å±•ï¼š</p>
<ul>
<li>æ³¨æ„å»æ‰è®¡ç®—è¿‡ç¨‹ä¸­äº§ç”Ÿçš„å‰å¯¼é›¶</li>
<li>å¯ä»¥å¯¹ä»£ç åšè¿›ä¸€æ­¥ä¼˜åŒ–</li>
</ul>
<h3 id="é«˜ç²¾åº¦ä¹˜æ³•"><a href="#é«˜ç²¾åº¦ä¹˜æ³•" class="headerlink" title="é«˜ç²¾åº¦ä¹˜æ³•"></a>é«˜ç²¾åº¦ä¹˜æ³•</h3><p><a href="https://www.acwing.com/activity/content/problem/content/827/">åŸé¢˜é“¾æ¥</a></p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>æ³¨æ„ä¹˜æ³•åŸºæœ¬åŸç†å³å¯ï¼Œå…¶å®ƒæ–¹é¢ä¸ä¸€èˆ¬é«˜ç²¾åº¦è¿ç®—ç›¸å½“ã€‚</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; a;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">acc</span><span class="params">(vector&lt;<span class="type">int</span>&gt; a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; c;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">size</span>(); i ++ ) &#123;  <span class="comment">// æ³¨æ„ä¹˜æ³•è¿ç®—çš„åŸºç†: a*b = a[0]*b + a[1]*10*b + a[2]*100*b + ...</span></span><br><span class="line">        t += a[i]*b;</span><br><span class="line">        c.<span class="built_in">push_back</span>(t%<span class="number">10</span>);</span><br><span class="line">        t /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (t) c.<span class="built_in">push_back</span>(t);</span><br><span class="line">    <span class="keyword">while</span> (c.<span class="built_in">back</span>() == <span class="number">0</span> &amp;&amp; c.<span class="built_in">size</span>() != <span class="number">1</span>) c.<span class="built_in">pop_back</span>();  <span class="comment">// æ³¨æ„vectorç›¸å…³å‡½æ•°æ“ä½œ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = c.<span class="built_in">size</span>()<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i -- ) cout &lt;&lt; c[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">    cin &gt;&gt; s &gt;&gt; b;</span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">length</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i --) a.<span class="built_in">push_back</span>(s[i]-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (a[n<span class="number">-1</span>] == <span class="number">0</span> || b == <span class="number">0</span>) cout &lt;&lt; <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">acc</span>(a, b);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é«˜ç²¾åº¦é™¤æ³•"><a href="#é«˜ç²¾åº¦é™¤æ³•" class="headerlink" title="é«˜ç²¾åº¦é™¤æ³•"></a>é«˜ç²¾åº¦é™¤æ³•</h3><p><a href="https://www.acwing.com/activity/content/problem/content/828/">åŸé¢˜é“¾æ¥</a></p>
<p>åŸºæœ¬æ€æƒ³ï¼š</p>
<p>ä¸å¸¸è§„é™¤æ³•è¿ç®—ä¸€è‡´ï¼Œæ³¨æ„ç»“æœçš„å¤„ç†ã€‚</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; a;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">div</span><span class="params">(vector&lt;<span class="type">int</span>&gt; a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; c;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">size</span>()<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;  <span class="comment">// æ³¨æ„æ­¤å¤„ä¸å¸¸è§„é™¤æ³•è¿ç®—é¡ºåºä¸€è‡´ï¼Œä½†æ ¸å¿ƒä»ç„¶æ˜¯ä»¥å„ä½ä¸ºæ ¸å¿ƒã€‚</span></span><br><span class="line">        t = t*<span class="number">10</span> + a[i];</span><br><span class="line">        c.<span class="built_in">push_back</span>(t/b);</span><br><span class="line">        t %= b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">reverse</span>(c.<span class="built_in">begin</span>(), c.<span class="built_in">end</span>());  <span class="comment">// è€ƒè™‘åˆ°é™¤æ³•ç»“æœçš„ç‰¹æ®Šæ€§ï¼Œé€‰æ‹©å¯¹ç»“æœåšå€’ç½®</span></span><br><span class="line">    <span class="keyword">while</span> (c.<span class="built_in">back</span>() == <span class="number">0</span> <span class="keyword">and</span> c.<span class="built_in">size</span>() != <span class="number">1</span>) c.<span class="built_in">pop_back</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = c.<span class="built_in">size</span>()<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) cout &lt;&lt; c[i];</span><br><span class="line">    cout &lt;&lt; endl &lt;&lt; t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">    cin &gt;&gt; s &gt;&gt; b;</span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">length</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i --) a.<span class="built_in">push_back</span>(s[i]-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (a[n<span class="number">-1</span>] == <span class="number">0</span>) cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl &lt;&lt; <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">div</span>(a, b);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å‰ç¼€å’Œ"><a href="#å‰ç¼€å’Œ" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h2><h3 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>ç®€å•å¯¹å‰né¡¹è¿›è¡Œç´¯åŠ ï¼Œå†ä½¿ç”¨å‰ç¼€å’Œåšç›¸å…³å¤„ç†ã€‚</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> a[N], s[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) s[i] = s[i<span class="number">-1</span>] + a[i];</span><br><span class="line">    <span class="keyword">while</span>(m--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> l, r;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;l, &amp;r);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, s[r] - s[l - <span class="number">1</span>]); <span class="comment">// - 1æ˜¯ç¦»æ•£æ€§çš„ä½“ç°</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒç»´å‰ç¼€å’Œ"><a href="#äºŒç»´å‰ç¼€å’Œ" class="headerlink" title="äºŒç»´å‰ç¼€å’Œ"></a>äºŒç»´å‰ç¼€å’Œ</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>æ„å»ºå¤šç»´å‰ç¼€å’Œï¼šè€ƒè™‘æ¯ä¸ªä»¥åŸç‚¹å’Œå„åæ ‡å¤„æ•°æ®ä¸ºå¯¹è§’å…ƒçš„çŸ©é˜µå†…æ•°æ®çš„å’Œ</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>0, 0</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td>x-1, y</td>
</tr>
<tr>
<td></td>
<td>x, y-1</td>
<td>x, y</td>
</tr>
</tbody>
</table>
</div>
<p>æ“ä½œå‰ç¼€å’Œï¼šæ€è·¯ç›¸å½“ï¼Œå‰ªå®Œå†è¡¥</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>x1-1, y1-1</th>
<th></th>
<th>x1-1, y2</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>x1, y1</td>
<td></td>
</tr>
<tr>
<td>x2, y1-1</td>
<td></td>
<td>x2, y2</td>
</tr>
</tbody>
</table>
</div>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> a[N][N], s[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m, q, k;</span><br><span class="line">    <span class="type">int</span> x1, y1, x2, y2;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            cin &gt;&gt; k;</span><br><span class="line">            a[i][j] = k;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            s[i][j] = s[i<span class="number">-1</span>][j] + s[i][j<span class="number">-1</span>] - s[i<span class="number">-1</span>][j<span class="number">-1</span>] + a[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line">        cout &lt;&lt; s[x2][y2]-s[x1<span class="number">-1</span>][y2]-s[x2][y1<span class="number">-1</span>]+s[x1<span class="number">-1</span>][y1<span class="number">-1</span>] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å·®åˆ†"><a href="#å·®åˆ†" class="headerlink" title="å·®åˆ†"></a>å·®åˆ†</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>å°†æ¯ä¸€ä¸ªåŸºæœ¬æ•°æ®å…ƒç´ çœ‹ä½œæ˜¯å·®åˆ†åºåˆ—çš„å‰ç¼€å’Œï¼Œå°†å¯¹åŸæ•°æ®çš„æ“ä½œå¤æ‚åº¦ä»O(n)è½¬å˜ä¸ºO(1)ã€‚</p>
<p>æ³¨æ„é¢˜ç›®ä¸­æè¿°çš„lã€rå‡æ˜¯æ•°ç»„ä¸­ç¬¬lã€rä¸ªå…ƒç´ ã€‚</p>
<p>ä»£ç :</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N], b[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> c)</span> </span>&#123;</span><br><span class="line">    b[l] += c;</span><br><span class="line">    b[r+<span class="number">1</span>] -= c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) cin &gt;&gt; a[i];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">insert</span>(i, i, a[i]);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        <span class="type">int</span> l, r, c;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r &gt;&gt; c;</span><br><span class="line">        <span class="built_in">insert</span>(l<span class="number">-1</span>, r<span class="number">-1</span>, c);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i ++ ) b[i] += b[i<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) cout &lt;&lt; b[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒç»´å·®åˆ†"><a href="#äºŒç»´å·®åˆ†" class="headerlink" title="äºŒç»´å·®åˆ†"></a>äºŒç»´å·®åˆ†</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>åŸºäºå·®åˆ†ï¼Œä¸æ™®é€šå·®åˆ†çš„ä¸»è¦å·®å¼‚åœ¨äºæ“ä½œå‡½æ•°çš„å…·ä½“æ­¥éª¤ï¼Œéœ€è¦å¤šç”»å›¾æµ‹è¯•ï¼Œä½¿å¾—æ¯ä¸ªæ•°æ®çš„å€¼èƒ½å¤Ÿä¸ä¸€å®šè§„åˆ™ä¸‹çš„å‰ç¼€å’Œä¸€è‡´ã€‚</p>
<p>æ„é€ å‰ç¼€å’Œï¼šå‚è€ƒ4.2 äºŒç»´å‰ç¼€å’Œ</p>
<p>æ“ä½œå‡½æ•°çš„è®¾è®¡ï¼šä¸»è¦è®¾ç½®åŒºåŸŸå†…çš„å·®åˆ†æ•°å€¼å’ŒåŒºåŸŸå¤–çš„å·®åˆ†æ•°å€¼ï¼Œä¿è¯ä»¥åŸç‚¹å’Œè¿™äº›å…ƒç´ ä¸ºå¯¹è§’å…ƒçš„å­çŸ©é˜µæ•°æ®å’Œèƒ½å¤Ÿè¡¨å¾åŸçŸ©é˜µè¯¥ä½ç½®çš„æ•°å€¼ã€‚</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>x1, y1</td>
<td></td>
<td></td>
<td>x1, y2+1</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>x2, y2</td>
<td></td>
</tr>
<tr>
<td></td>
<td>x2+1, y1</td>
<td></td>
<td></td>
<td>x2+1, y2+1</td>
</tr>
</tbody>
</table>
</div>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> a[N][N], b[N][N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x1, <span class="type">int</span> y1, <span class="type">int</span> x2, <span class="type">int</span> y2, <span class="type">int</span> c)</span> </span>&#123;</span><br><span class="line">    b[x1][y1] += c;</span><br><span class="line">    b[x1][y2+<span class="number">1</span>] -= c;</span><br><span class="line">    b[x2+<span class="number">1</span>][y1] -= c;</span><br><span class="line">    b[x2+<span class="number">1</span>][y2+<span class="number">1</span>] += c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)  <span class="comment">// æ³¨æ„è¿™é‡Œä»1å·ä½ç½®è€Œé0å·ä½ç½®å¼€å§‹å­˜å‚¨ï¼Œè¿™æ ·åœ¨åšäºŒç»´å‰ç¼€å’Œæ—¶æ‰ä¸ä¼šå‘ç”Ÿè¶Šç•Œã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">            cin &gt;&gt; a[i][j];</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">            <span class="built_in">insert</span>(i, j, i, j, a[i][j]);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (q--) &#123;</span><br><span class="line">        <span class="type">int</span> x1, y1, x2, y2, c;</span><br><span class="line">        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; c;</span><br><span class="line">        <span class="built_in">insert</span>(x1, y1, x2, y2, c);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">            b[i][j] = b[i<span class="number">-1</span>][j] + b[i][j<span class="number">-1</span>] - b[i<span class="number">-1</span>][j<span class="number">-1</span>] + b[i][j];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i != <span class="number">1</span>) <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            cout &lt;&lt; b[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h2><h3 id="æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—"><a href="#æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—" class="headerlink" title="æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—"></a>æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>è¯¥é¢˜ä¸ºåŒæŒ‡é’ˆçš„ç¬¬ä¸€ç§åº”ç”¨åœºæ™¯ï¼Œå•æ•°åˆ—åŒæŒ‡é’ˆã€‚</p>
<p>ä»æ¨¡æ‹Ÿå‡ºå‘ï¼Œéå†æ¯ä¸ªè¿ç»­å­åºåˆ—ã€‚è¿‡ç¨‹ä¸­éœ€è¦ç”¨åˆ°åŒæŒ‡é’ˆï¼Œä½†æ³¨æ„æŒ‡é’ˆçš„ç§»åŠ¨å­˜åœ¨ä¾èµ–æ€§ï¼Œä»¥åºåˆ—å°¾éƒ¨å¯¹å­åºåˆ—è¿›è¡Œåˆ’åˆ†ï¼Œå¯ä»¥å‘ç°æ¯ä¸ªæŒ‡é’ˆçš„ç§»åŠ¨æ–¹å‘æ˜¯å”¯ä¸€çš„ã€‚å‡è®¾i &lt; jï¼Œå¦‚æœå·²æœ‰[i, j]åºåˆ—æ»¡è¶³æ¡ä»¶ï¼Œé‚£ä¹ˆä¸å¯èƒ½æœ‰[i-k, j+1]æ»¡è¶³æ¡ä»¶ã€‚åŸºäºä¸Šè¿°æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•´ä¸ªè¿‡ç¨‹çš„éå†å¤æ‚åº¦ç”±O(n^2)é™è‡³O(n)ã€‚</p>
<p>åŒæŒ‡é’ˆåŸºç¡€æ¨¡æ¿:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">	<span class="keyword">while</span> (j &lt; i &amp;&amp; <span class="built_in">check</span>(i, j)) j++;</span><br><span class="line">	è¿›è¡Œç»Ÿè®¡è®¡ç®—...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N], s[N];  <span class="comment">// s[N]ç»Ÿè®¡äº†åºåˆ—ä¸­å„æ•°å€¼å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; a[i];</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>, res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        s[a[i]]++;  <span class="comment">// åŠ å…¥a[i]ï¼Œç»Ÿè®¡æ•°å€¼å‡ºç°æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">while</span> (j &lt; i &amp;&amp; s[a[i]] &gt; <span class="number">1</span>) s[a[j++]]--;  <span class="comment">// å°†a[j]ç§»å‡ºåºåˆ—ï¼Œç»Ÿè®¡æ•°å€¼å‡ºç°æ¬¡æ•°</span></span><br><span class="line">        res = <span class="built_in">max</span>(res, i - j + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ"><a href="#æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ" class="headerlink" title="æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ"></a>æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>æ‰¾å‡†åŒæŒ‡é’ˆçš„ç§»åŠ¨æ–¹å‘ï¼Œåˆ©ç”¨æŒ‡é’ˆä¹‹é—´çš„ç›¸äº’å½±å“å¯¹æŸä¸ªæŒ‡é’ˆçš„ç§»åŠ¨èŒƒå›´è¿›è¡Œç¼©å°ï¼Œç­›æ‰ä¸å¿…è¦çš„æ­¥éª¤ï¼Œä¹Ÿå°±æ‰¾åˆ°äº†ä¼˜åŒ–çš„æ–¹å‘ã€‚</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N], b[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, x;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; x;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++ ) cin &gt;&gt; b[i];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = m<span class="number">-1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j &gt;= <span class="number">1</span> &amp;&amp; a[i] + b[j] &gt; x) j--;</span><br><span class="line">        <span class="keyword">if</span> (j &gt;= <span class="number">0</span> &amp;&amp; a[i] + b[j] == x) &#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ¤æ–­å­åºåˆ—"><a href="#åˆ¤æ–­å­åºåˆ—" class="headerlink" title="åˆ¤æ–­å­åºåˆ—"></a>åˆ¤æ–­å­åºåˆ—</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>ä¸5.2 æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œè§£æ³•ç›¸å½“ï¼Œåªä¸è¿‡åˆå§‹åŒ–æ—¶ä¸¤ä¸ªæŒ‡é’ˆéƒ½éœ€è¦æ”¾åœ¨æ•°ç»„çš„å¤´éƒ¨ã€‚</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N], b[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++ ) cin &gt;&gt; b[i];</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> ant = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j &lt; m &amp;&amp; a[i] != b[j]) j++;</span><br><span class="line">        <span class="keyword">if</span> (j &lt; m &amp;&amp; a[i] == b[j]) &#123;</span><br><span class="line">            ant++;</span><br><span class="line">            j++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (ant == n) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä½è¿ç®—ã€ç¦»æ•£åŒ–ã€åŒºé—´åˆå¹¶"><a href="#ä½è¿ç®—ã€ç¦»æ•£åŒ–ã€åŒºé—´åˆå¹¶" class="headerlink" title="ä½è¿ç®—ã€ç¦»æ•£åŒ–ã€åŒºé—´åˆå¹¶"></a>ä½è¿ç®—ã€ç¦»æ•£åŒ–ã€åŒºé—´åˆå¹¶</h2><h3 id="äºŒè¿›åˆ¶æ•°ä¸­1çš„ä¸ªæ•°"><a href="#äºŒè¿›åˆ¶æ•°ä¸­1çš„ä¸ªæ•°" class="headerlink" title="äºŒè¿›åˆ¶æ•°ä¸­1çš„ä¸ªæ•°"></a>äºŒè¿›åˆ¶æ•°ä¸­1çš„ä¸ªæ•°</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>ç†Ÿæ‚‰äºŒè¿›åˆ¶ä¸åè¿›åˆ¶ä¹‹é—´ç›¸äº’è½¬åŒ–çš„ç®—æ³•ï¼Œåˆ©ç”¨è¯¥åŸç†å°†äºŒè¿›åˆ¶å½¢å¼ä¸‹çš„æ¯ä¸€ä½æ‹†å‡ºæ¥å°±è¡Œã€‚</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N], b[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; a[i];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) &#123;</span><br><span class="line">        <span class="type">int</span> ant = <span class="number">0</span>, t = a[i];</span><br><span class="line">        <span class="keyword">while</span> (t != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (t%<span class="number">2</span>) ant++;</span><br><span class="line">            t /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        b[i] = ant;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) cout &lt;&lt; b[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åŒºé—´å’Œï¼ˆç¦»æ•£åŒ–ï¼‰"><a href="#åŒºé—´å’Œï¼ˆç¦»æ•£åŒ–ï¼‰" class="headerlink" title="åŒºé—´å’Œï¼ˆç¦»æ•£åŒ–ï¼‰"></a>åŒºé—´å’Œï¼ˆç¦»æ•£åŒ–ï¼‰</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>å¯¹äºå¤§èŒƒå›´æ•°æ®ï¼Œé‡‡ç”¨ç¦»æ•£åŒ–æ€è·¯ï¼Œå°†å®ƒä»¬æ”¾åœ¨ä¸€å®šé•¿åº¦çš„æœ‰åºæ•°åˆ—ã€‚</p>
<ol>
<li>æš‚å­˜å„ç§ä¿®æ”¹ä¸è¯·æ±‚æ“ä½œï¼Œå¹¶è®°å½•è¿™äº›æ“ä½œçš„å…ƒç´ ä¸‹æ ‡ã€‚</li>
<li>å¯¹å­˜å‚¨çš„å…ƒç´ ä¸‹æ ‡è¿›è¡Œæ’åºå’Œå»é‡ï¼Œä¿è¯æ•°æ®çš„å‰åé¡ºåºä¸€è‡´ã€‚</li>
<li>å†æ¬¡éå†ä¿®æ”¹æ“ä½œï¼Œç›´æ¥ä½œç”¨äºç¦»æ•£åŒ–æ•°ç»„ï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šé¢„å¤„ç†ç¦»æ•£åŒ–å‰ç¼€å’Œã€‚</li>
<li>å†æ¬¡éå†æŸ¥è¯¢æ“ä½œï¼Œåˆ©ç”¨å‰ç¼€å’Œåºåˆ—è®¡ç®—ç»“æœã€‚</li>
</ol>
<p>ç®€å•æ¥è¯´å°±æ˜¯ç»å†äº†æ•°æ®ç¦»æ•£åŒ–ã€é¢„å¤„ç†å‰ç¼€å’Œã€åˆ©ç”¨å‰ç¼€å’Œæ±‚è§£è¿™ä¸‰ä¸ªè¿‡ç¨‹ã€‚</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">300010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[N], s[N];</span><br><span class="line">vector&lt;PII&gt; add, query;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; alls;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = alls.<span class="built_in">size</span>()<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="type">int</span> mid = (l + r &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (alls[mid] &gt;= x) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        <span class="type">int</span> x, c;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; c;</span><br><span class="line">        add.<span class="built_in">push_back</span>(&#123;x, c&#125;);</span><br><span class="line">        alls.<span class="built_in">push_back</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        <span class="type">int</span> l, r;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">        query.<span class="built_in">push_back</span>(&#123;l, r&#125;);</span><br><span class="line">        alls.<span class="built_in">push_back</span>(l);</span><br><span class="line">        alls.<span class="built_in">push_back</span>(r);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">sort</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>());</span><br><span class="line">    alls.<span class="built_in">erase</span>(<span class="built_in">unique</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>()), alls.<span class="built_in">end</span>());</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> item: add) &#123;</span><br><span class="line">        <span class="type">int</span> u = item.first, v = item.second;</span><br><span class="line">        <span class="type">int</span> x = <span class="built_in">find</span>(u);</span><br><span class="line">        a[x] += v;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= alls.<span class="built_in">size</span>(); i++) s[i] = s[i<span class="number">-1</span>] + a[i]; </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> item: query) &#123;</span><br><span class="line">        <span class="type">int</span> u = <span class="built_in">find</span>(item.first), v = <span class="built_in">find</span>(item.second);</span><br><span class="line">        cout &lt;&lt; s[v] - s[u<span class="number">-1</span>] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åŒºé—´åˆå¹¶"><a href="#åŒºé—´åˆå¹¶" class="headerlink" title="åŒºé—´åˆå¹¶"></a>åŒºé—´åˆå¹¶</h3><p>åŸé¢˜é“¾æ¥</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ol>
<li>å­˜å‚¨åŒºé—´ï¼Œå¹¶æŒ‰å·¦ç«¯ç‚¹è¿›è¡Œæ’åºï¼Œè¿™æ ·å¯¹äºä¸¤ä¸ªåŒºé—´åªéœ€è¦è€ƒè™‘3ç§è€Œé4ç§æƒ…å†µã€‚</li>
<li>è´ªå¿ƒï¼Œåˆ†æåŒºé—´çš„å·¦å³ç«¯ç‚¹å³å¯ï¼Œéå†æ¯ä¸ªåŒºé—´ï¼Œåˆ†æƒ…å†µè®¨è®ºå³å¯ã€‚</li>
</ol>
<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line">vector&lt;PII&gt; segs;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(vector&lt;PII&gt; &amp;segs)</span> </span>&#123;</span><br><span class="line">    vector&lt;PII&gt; res;</span><br><span class="line">    <span class="type">int</span> st = <span class="number">-2e9</span>, ed = <span class="number">2e9</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> seg: segs) &#123;</span><br><span class="line">        <span class="keyword">if</span> (st == <span class="number">-2e9</span> || seg.first &gt; ed) &#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(seg);</span><br><span class="line">            st = seg.first;</span><br><span class="line">            ed = seg.second;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> ed = <span class="built_in">max</span>(ed, seg.second);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    segs = res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) &#123;</span><br><span class="line">        <span class="type">int</span> l, r;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">        segs.<span class="built_in">push_back</span>(&#123;l, r&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">sort</span>(segs.<span class="built_in">begin</span>(), segs.<span class="built_in">end</span>());</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">merge</span>(segs);</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; segs.<span class="built_in">size</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>acking</category>
      </categories>
      <tags>
        <tag>åŸºç¡€ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°ç»„ç»“æ„</title>
    <url>/2024/11/15/acking/ds/</url>
    <content><![CDATA[<blockquote>
<p>ä¸€äº›ç®—æ³•ä¸­å¸¸ç”¨æ•°æ®ç»“æ„çš„å†™æ³•ã€‚</p>
</blockquote>
<h2 id="1-é“¾è¡¨"><a href="#1-é“¾è¡¨" class="headerlink" title="1 é“¾è¡¨"></a>1 é“¾è¡¨</h2><h3 id="1-1-å•é“¾è¡¨"><a href="#1-1-å•é“¾è¡¨" class="headerlink" title="1.1 å•é“¾è¡¨"></a>1.1 å•é“¾è¡¨</h3><p><a href="https://www.acwing.com/problem/content/828/">åŸé¢˜é“¾æ¥</a></p>
<p>å¯¹äºé“¾è¡¨ï¼Œé€šå¸¸ç”¨ç±»å®ç°è¾ƒä¸ºå¤æ‚çš„åŠŸèƒ½ï¼Œä½†åœ¨ç®—æ³•é¢˜ä¸­ï¼Œä¸ºäº†å®ç°æˆ‘ä»¬çš„ç›®çš„ï¼Œä½¿ç”¨é™æ€é“¾è¡¨å°±å¥½äº†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> head, e[N], ne[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    head = <span class="number">-1</span>;</span><br><span class="line">    <span class="built_in">memset</span>(ne, <span class="number">-1</span>, <span class="keyword">sizeof</span> ne);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add_to_head</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    ne[idx] = head;</span><br><span class="line">    head = idx;</span><br><span class="line">    e[idx++] = x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">deletel</span><span class="params">(<span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k == <span class="number">0</span>) &#123;</span><br><span class="line">        head = ne[head];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> ne[k<span class="number">-1</span>] = ne[ne[k<span class="number">-1</span>]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    ne[idx] = ne[k<span class="number">-1</span>];</span><br><span class="line">    ne[k<span class="number">-1</span>] = idx;</span><br><span class="line">    e[idx++] = x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    cin &gt;&gt; m;</span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        <span class="type">char</span> op;</span><br><span class="line">        <span class="type">int</span> k, x;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&#x27;H&#x27;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            <span class="built_in">add_to_head</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&#x27;D&#x27;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; k;</span><br><span class="line">            <span class="built_in">deletel</span>(k);</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            cin &gt;&gt; k &gt;&gt; x;</span><br><span class="line">            <span class="built_in">insert</span>(k, x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = head; j != <span class="number">-1</span>; j = ne[j]) cout &lt;&lt; e[j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-åŒé“¾è¡¨"><a href="#1-2-åŒé“¾è¡¨" class="headerlink" title="1.2 åŒé“¾è¡¨"></a>1.2 åŒé“¾è¡¨</h3><p>å¯ä»¥çº¯çº¯æ¨¡æ‹Ÿï¼Œå¯¹æ¯ä¸ªæ“ä½œè¿›è¡Œç»†åŒ–ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> head, e[N], ne[N], la[N], idx, tail;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(ne, <span class="number">-1</span>, <span class="keyword">sizeof</span> ne);</span><br><span class="line">    <span class="built_in">memset</span>(la, <span class="number">-1</span>, <span class="keyword">sizeof</span> la);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ladd</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    e[++idx] = x;</span><br><span class="line">    ne[idx] = ne[head];</span><br><span class="line">    la[idx] = head;</span><br><span class="line">    <span class="keyword">if</span> (ne[head] != <span class="number">-1</span>) la[ne[head]] = idx;</span><br><span class="line">    ne[head] = idx;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (ne[idx] == <span class="number">-1</span>) tail = idx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">radd</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    e[++idx] = x;</span><br><span class="line">    ne[tail] = idx;</span><br><span class="line">    la[idx] = tail;</span><br><span class="line">  </span><br><span class="line">    tail = idx;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">deletek</span><span class="params">(<span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (ne[k] != <span class="number">-1</span>) la[ne[k]] = la[k];</span><br><span class="line">    <span class="keyword">else</span> tail = la[k];</span><br><span class="line">  </span><br><span class="line">    ne[la[k]] = ne[k];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertl</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    e[++idx] = x;</span><br><span class="line">    ne[idx] = k;</span><br><span class="line">    la[idx] = la[k];</span><br><span class="line">    ne[la[k]] = idx;</span><br><span class="line">    la[k] = idx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertr</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    e[++idx] = x;</span><br><span class="line">    la[idx] = k;</span><br><span class="line">    ne[idx] = ne[k];</span><br><span class="line">    <span class="keyword">if</span> (ne[k] != <span class="number">-1</span>) la[ne[k]] = idx;</span><br><span class="line">    ne[k] = idx;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (ne[idx] == <span class="number">-1</span>) tail = idx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    cin &gt;&gt; m;</span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        string op;</span><br><span class="line">        <span class="type">int</span> k, x;</span><br><span class="line">  </span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;L&quot;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            <span class="built_in">ladd</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;R&quot;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            <span class="built_in">radd</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;D&quot;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; k;</span><br><span class="line">            <span class="built_in">deletek</span>(k);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;IL&quot;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; k &gt;&gt; x;</span><br><span class="line">            <span class="built_in">insertl</span>(k, x);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            cin &gt;&gt; k &gt;&gt; x;</span><br><span class="line">            <span class="built_in">insertr</span>(k, x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = ne[head]; i != <span class="number">-1</span>; i = ne[i]) cout &lt;&lt; e[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥å¢åŠ è¾…åŠ©ç»“ç‚¹ï¼Œç®€åŒ–æ“ä½œè®¾è®¡ï¼š</p>
<p>ä½¿ç”¨å¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹ï¼Œä¸‹æ ‡ä¸º0ã€1ï¼Œæ•°æ®å…ƒç´ ä»idx = 2å¼€å§‹è®°å½•ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> m;</span><br><span class="line"><span class="type">int</span> e[N], l[N], r[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨èŠ‚ç‚¹açš„å³è¾¹æ’å…¥ä¸€ä¸ªæ•°x</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = x;</span><br><span class="line">    l[idx] = a, r[idx] = r[a];</span><br><span class="line">    l[r[a]] = idx, r[a] = idx ++ ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤èŠ‚ç‚¹a</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    l[r[a]] = l[a];</span><br><span class="line">    r[l[a]] = r[a];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; m;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 0æ˜¯å·¦ç«¯ç‚¹ï¼Œ1æ˜¯å³ç«¯ç‚¹</span></span><br><span class="line">    r[<span class="number">0</span>] = <span class="number">1</span>, l[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    idx = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (m -- )</span><br><span class="line">    &#123;</span><br><span class="line">        string op;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="type">int</span> k, x;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;L&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            <span class="built_in">insert</span>(<span class="number">0</span>, x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;R&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            <span class="built_in">insert</span>(l[<span class="number">1</span>], x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;D&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; k;</span><br><span class="line">            <span class="built_in">remove</span>(k + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;IL&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; k &gt;&gt; x;</span><br><span class="line">            <span class="built_in">insert</span>(l[k + <span class="number">1</span>], x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; k &gt;&gt; x;</span><br><span class="line">            <span class="built_in">insert</span>(k + <span class="number">1</span>, x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = r[<span class="number">0</span>]; i != <span class="number">1</span>; i = r[i]) cout &lt;&lt; e[i] &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-æ ˆ"><a href="#2-æ ˆ" class="headerlink" title="2 æ ˆ"></a>2 æ ˆ</h2><h3 id="2-1-æ¨¡æ‹Ÿæ ˆ"><a href="#2-1-æ¨¡æ‹Ÿæ ˆ" class="headerlink" title="2.1 æ¨¡æ‹Ÿæ ˆ"></a>2.1 æ¨¡æ‹Ÿæ ˆ</h3><p><a href="https://www.acwing.com/activity/content/problem/content/865/">åŸé¢˜é“¾æ¥</a></p>
<blockquote>
<p>ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿæ ˆçš„åŠ¨æ€å˜åŒ–ä»¥åŠå¸¸è§æ“ä½œã€‚</p>
</blockquote>
<p>ä½¿ç”¨åŸºæœ¬æ•°ç»„åšå®¹å™¨ï¼Œä½¿ç”¨æŒ‡é’ˆæ¥ç»´æŠ¤æ ˆçš„çŠ¶æ€ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line"><span class="type">int</span> tt = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string op;</span><br><span class="line">    <span class="type">int</span> m, x;</span><br><span class="line">  </span><br><span class="line">    cin &gt;&gt; m;</span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;push&quot;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            q[++tt] = x;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;pop&quot;</span>) tt--;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;empty&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tt == <span class="number">-1</span>) cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; q[tt] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-è¡¨è¾¾å¼æ±‚å€¼"><a href="#2-2-è¡¨è¾¾å¼æ±‚å€¼" class="headerlink" title="2.2 è¡¨è¾¾å¼æ±‚å€¼"></a>2.2 è¡¨è¾¾å¼æ±‚å€¼</h3><p><a href="https://www.acwing.com/activity/content/problem/content/3648/">åŸé¢˜é“¾æ¥</a></p>
<p>è¡¨è¾¾å¼æ±‚å€¼æ˜¯å¸¸è§çš„éœ€è¦ä½¿ç”¨æ ˆæ¥ååŠ©è§£å†³çš„é—®é¢˜ã€‚å¦‚æœä¸€ä¸ªè¡¨è¾¾å¼è¢«ä½¿ç”¨åç¼€è¡¨è¾¾å¼æè¿°å‡ºæ¥ï¼Œé‚£ä¹ˆåšé¡ºåºæ‰«æå°±å¯ä»¥å¾ˆå¥½åœ°è®¡ç®—å‡ºç»“æœï¼Œæ‰€ä»¥æœ¬é¢˜çš„å…³é”®åœ¨äºå¦‚ä½•åˆ†ç¦»æ•°å’Œç¬¦å·ï¼Œç„¶åè½¬æ¢ä¸ºåç¼€è¡¨è¾¾å¼çš„è®¡ç®—é¡ºåºã€‚</p>
<p>æ‰«æå…¥æ ˆå’Œå‡ºæ ˆè®¡ç®—è¿™ä¸¤ä¸ªæ“ä½œå¯ä»¥åˆåœ¨ä¸€èµ·ï¼š</p>
<p>æ‰«æåˆ°æ•°ï¼Œå°±å°†å…¶è½¬æ¢ä¸ºæ•´å‹ï¼›</p>
<p>æ‰«æåˆ°ç¬¦å·ï¼Œéœ€è¦è¿›è¡Œè®¨è®ºï¼š</p>
<ul>
<li>è‹¥ä¸ºå·¦æ‹¬å·ï¼Œå°±push</li>
<li>è‹¥ä¸ºå³æ‹¬å·ï¼Œå¯¹äºç¬¦å·æ ˆï¼Œè€ƒè™‘ä¸€èˆ¬æƒ…å†µ(+ï¼Œåšå‡ºæ ˆè®¡ç®—ï¼›è€ƒè™‘ç‰¹æ®Šæƒ…å†µ(å°±ä¸åšæ“ä½œã€‚</li>
<li>è‹¥ä¸º*ã€/ï¼Œå°±æ ¹æ®ç¬¦å·è¿ç®—ä¼˜å…ˆçº§å°†å› å¼è½¬æ¢ä¸ºæ•°</li>
</ul>
<p>æœ€åç¬¦å·æ ˆåªå‰©åŠ å‡ï¼Œå°±ä¸æ–­åšå‡ºæ ˆè¿ç®—ï¼Œå¯¹æ•°æ ˆä¸­çš„æ•°è¿›è¡ŒåŠ å‡ä»£æ•°è¿ç®—å³å¯ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">stack&lt;<span class="type">int</span>&gt; num;</span><br><span class="line">stack&lt;<span class="type">char</span>&gt; op;</span><br><span class="line"></span><br><span class="line">unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; pr&#123;&#123;<span class="string">&#x27;+&#x27;</span>, <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;-&#x27;</span>, <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;*&#x27;</span>, <span class="number">2</span>&#125;, &#123;<span class="string">&#x27;/&#x27;</span>, <span class="number">2</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">eval</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> a = num.<span class="built_in">top</span>(); num.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="keyword">auto</span> b = num.<span class="built_in">top</span>(); num.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="keyword">auto</span> c = op.<span class="built_in">top</span>(); op.<span class="built_in">pop</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (c == <span class="string">&#x27;+&#x27;</span>) num.<span class="built_in">push</span>(a+b);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;-&#x27;</span>) num.<span class="built_in">push</span>(b-a);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;*&#x27;</span>) num.<span class="built_in">push</span>(a*b);</span><br><span class="line">    <span class="keyword">else</span> num.<span class="built_in">push</span>(b/a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str;</span><br><span class="line">    cin &gt;&gt; str;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; str.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="keyword">auto</span> c = str[i];</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isdigit</span>(c)) &#123;</span><br><span class="line">            <span class="type">int</span> x = <span class="number">0</span>, j = i;</span><br><span class="line">            <span class="keyword">while</span> (j &lt; str.<span class="built_in">size</span>() &amp;&amp; <span class="built_in">isdigit</span>(str[j])) &#123;</span><br><span class="line">                x = x*<span class="number">10</span> + str[j] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            num.<span class="built_in">push</span>(x);</span><br><span class="line">            i = j<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;(&#x27;</span>) op.<span class="built_in">push</span>(c);</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (op.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>) <span class="built_in">eval</span>();</span><br><span class="line">            op.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (op.<span class="built_in">size</span>() &amp;&amp; op.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span> &amp;&amp; pr[op.<span class="built_in">top</span>()] &gt;= pr[c]) <span class="built_in">eval</span>();</span><br><span class="line">            op.<span class="built_in">push</span>(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (op.<span class="built_in">size</span>()) <span class="built_in">eval</span>();</span><br><span class="line">    cout &lt;&lt; num.<span class="built_in">top</span>() &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æœ¬é¢˜é‡åœ¨ä½¿ç”¨å¤´æ–‡ä»¶ä¸­æä¾›çš„æ ˆç±»ï¼Œè€Œéè‡ªè¡Œå®ç°ã€‚</p>
</blockquote>
<h2 id="3-é˜Ÿåˆ—"><a href="#3-é˜Ÿåˆ—" class="headerlink" title="3 é˜Ÿåˆ—"></a>3 é˜Ÿåˆ—</h2><h3 id="3-1-æ¨¡æ‹Ÿé˜Ÿåˆ—"><a href="#3-1-æ¨¡æ‹Ÿé˜Ÿåˆ—" class="headerlink" title="3.1 æ¨¡æ‹Ÿé˜Ÿåˆ—"></a>3.1 æ¨¡æ‹Ÿé˜Ÿåˆ—</h3><p>ä½¿ç”¨æ•°ç»„è¿›è¡Œå­˜å‚¨ï¼Œä½¿ç”¨æŒ‡é’ˆè¿›è¡Œç»´æŠ¤ï¼Œä¸æ¨¡æ‹Ÿæ ˆç±»ä¼¼ï¼Œæ‡‚æ ¸å¿ƒåŸç†å°±å¥½ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line"><span class="type">int</span> hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    cin &gt;&gt; m;</span><br><span class="line">  </span><br><span class="line">    string op;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;push&quot;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            q[++tt] = x;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;pop&quot;</span>) hh++;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;empty&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (hh &gt; tt) cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; q[hh] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-å•è°ƒæ ˆä¸å•è°ƒé˜Ÿåˆ—"><a href="#4-å•è°ƒæ ˆä¸å•è°ƒé˜Ÿåˆ—" class="headerlink" title="4 å•è°ƒæ ˆä¸å•è°ƒé˜Ÿåˆ—"></a>4 å•è°ƒæ ˆä¸å•è°ƒé˜Ÿåˆ—</h2><h3 id="4-1-å•è°ƒæ ˆ"><a href="#4-1-å•è°ƒæ ˆ" class="headerlink" title="4.1 å•è°ƒæ ˆ"></a>4.1 å•è°ƒæ ˆ</h3><p><a href="https://www.acwing.com/activity/content/problem/content/867/">åŸé¢˜é“¾æ¥</a></p>
<p>å•è°ƒæ ˆçš„å•è°ƒæ€§ä¸»è¦æŒ‡çš„æ˜¯æ»¡è¶³ä¸€å®šæ¡ä»¶ä¸‹çš„æ¬¡åºå•è°ƒã€‚</p>
<p>ä¸æ™®é€šæ ˆçš„å·®åˆ«ä¸»è¦åœ¨äºï¼šåœ¨æ„å»ºæ ˆçš„åŒæ—¶ä¹Ÿåšç‰¹æ€§ç›¸å…³çš„ç»´æŠ¤ï¼Œå»æ‰æ— ç”¨çš„ä¿¡æ¯ï¼Œä½¿å¾—æ¯æ¬¡è¯¢é—®çš„å¤æ‚åº¦éƒ½ä¸ºO(1)ã€‚</p>
<p>ä¸»è¦éœ€è¦æ€è€ƒçš„æ˜¯å¯ä¸å¯ä»¥æ·˜æ±°ä¸€äº›æ—§çš„ã€å½±å“å•è°ƒæ€§çš„å…ƒç´ ã€‚</p>
<p>æ¯”å¦‚åˆå§‹çŠ¶æ€ä¸‹æ ˆçš„å†…å®¹æ˜¯è¿™æ ·çš„ï¼š1ã€2ã€5ã€‚</p>
<p>æ­¤æ—¶æ‰«æåˆ°4åº”è¯¥å¦‚ä½•å¤„ç†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> q[N], tt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin &gt;&gt; x;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">while</span> (tt &amp;&amp; q[tt] &gt;= x) tt--;</span><br><span class="line">        <span class="keyword">if</span> (!tt) cout &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; q[tt] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        q[++tt] = x;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-2-å•è°ƒé˜Ÿåˆ—"><a href="#4-2-å•è°ƒé˜Ÿåˆ—" class="headerlink" title="4.2 å•è°ƒé˜Ÿåˆ—"></a>4.2 å•è°ƒé˜Ÿåˆ—</h3><p><a href="https://www.acwing.com/activity/content/problem/content/868/">æ»‘åŠ¨çª—å£</a></p>
<h4 id="4-2-1-ä»æ¡†æ¶å…¥æ‰‹"><a href="#4-2-1-ä»æ¡†æ¶å…¥æ‰‹" class="headerlink" title="4.2.1 ä»æ¡†æ¶å…¥æ‰‹"></a>4.2.1 ä»æ¡†æ¶å…¥æ‰‹</h4><p>çª—å£çš„ç»´æŠ¤æ— éœ€æ„å»ºæ–°çš„æ•°æ®ç»“æ„ï¼Œåªéœ€è¦ä½¿ç”¨æŒ‡é’ˆã€‚<br> â€œå¯¹æ»‘åŠ¨çª—å£çš„å¤´å°¾æŒ‡é’ˆè¿›è¡Œæ§åˆ¶å³å¯åŠ¨æ€æ¨¡æ‹Ÿçª—å£çš„ç§»åŠ¨ã€‚â€œ</p>
<p>è´ªå¿ƒçš„åŸºçŸ³æ°¸è¿œæ˜¯æ‰«æéå†ã€‚</p>
<p>ä¸è¦æƒ³ç€ä¸€æ¬¡éå†å°±åŒæ—¶æ‰¾åˆ°çª—å£çš„æœ€å¤§æœ€å°å€¼åºåˆ—ï¼Œå¯ä»¥æ‹†è§£é—®é¢˜å¤šåšå‡ æ¬¡éå†ï¼Œæ ¹æ®è¾“å‡ºç»“æœä¹Ÿå¯ä»¥æ‰¾åˆ°ä¸€äº›ç«¯å€ªã€‚<br> â€œæ¯ä¸ªæ»‘åŠ¨çª—å£çš„æœ€å¤§å’Œæœ€å°å…ƒç´ åˆ†ä¸¤è½®éå†ç¡®è®¤å³å¯ã€‚â€œ</p>
<h4 id="4-2-2-æ·±å…¥ç»†èŠ‚"><a href="#4-2-2-æ·±å…¥ç»†èŠ‚" class="headerlink" title="4.2.2 æ·±å…¥ç»†èŠ‚"></a>4.2.2 æ·±å…¥ç»†èŠ‚</h4><p>å­¦ä¼šæ ¹æ®æ ·ä¾‹ä»0å¼€å§‹åšæ¨¡æ‹Ÿï¼Œæ‰¾åˆ°å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œè¿™æ˜¯è§£å†³ä»»ä½•é—®é¢˜çš„æ ¸å¿ƒã€‚</p>
<p>æ€è€ƒå•è°ƒé˜Ÿåˆ—çš„å•è°ƒæ€§åº”è¯¥å¦‚ä½•ï¼Œæœ¬é¢˜ä¸»è¦å–å†³äºçª—å£ç§»åŠ¨è¿‡ç¨‹ä¸­ä¸æ–­è¢«èˆå¼ƒçš„å…ƒç´ å¤„åœ¨å“ªä¸€ç«¯ï¼Œå¯ä»¥æƒ³æƒ³å¦‚æœçª—å£é€†å‘ç§»åŠ¨ï¼Œåº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ</p>
<p>æ€è€ƒé˜Ÿåˆ—é‡Œåº”è¯¥å­˜ä»€ä¹ˆï¼Œæ˜¯æ•°æ®è¿˜æ˜¯ä¸‹æ ‡ã€‚å®ƒå–å†³äºå½“çª—å£ç§»åŠ¨æ—¶ï¼Œå¦‚ä½•ç«‹åˆ»æ‰¾åˆ°å¤±æ•ˆçš„å…ƒç´ å¹¶å‰”é™¤ã€‚</p>
<p>é€†å‘æ€è€ƒæœ€ç»ˆéœ€è¦çš„æ•ˆæœï¼Œä¼šå¸®åŠ©ç†æ¸…ç»†èŠ‚ã€‚</p>
<h4 id="4-2-3-å®ç°"><a href="#4-2-3-å®ç°" class="headerlink" title="4.2.3 å®ç°"></a>4.2.3 å®ç°</h4><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N], q[N];</span><br><span class="line"><span class="type">int</span> hh, tt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, k;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) cin &gt;&gt; a[i];</span><br><span class="line">  </span><br><span class="line">    tt = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (hh &lt;= tt &amp;&amp; i-k+<span class="number">1</span> &gt; q[hh]) hh++;  <span class="comment">// è€ƒè™‘åŸæœ€å€¼æ˜¯å¦è¢«èˆå¼ƒ</span></span><br><span class="line">        <span class="keyword">while</span> (hh &lt;= tt &amp;&amp; a[q[tt]] &gt;= a[i]) tt--;  <span class="comment">// è€ƒè™‘æ˜¯å¦æœ‰æ— ç”¨ä¿¡æ¯å¯ä»¥ç®€åŒ–</span></span><br><span class="line">        q[++tt] = i;</span><br><span class="line">        <span class="keyword">if</span> (i-k+<span class="number">1</span> &gt;= <span class="number">0</span>) cout &lt;&lt; a[q[hh]] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  </span><br><span class="line">    hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (hh &lt;= tt &amp;&amp; i-k+<span class="number">1</span> &gt; q[hh]) hh++;</span><br><span class="line">        <span class="keyword">while</span> (hh &lt;= tt &amp;&amp; a[q[tt]] &lt;= a[i]) tt--;</span><br><span class="line">        q[++tt] = i;</span><br><span class="line">        <span class="keyword">if</span> (i-k+<span class="number">1</span> &gt;= <span class="number">0</span>) cout &lt;&lt; a[q[hh]] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-KMPå­—ç¬¦ä¸²"><a href="#5-KMPå­—ç¬¦ä¸²" class="headerlink" title="5 KMPå­—ç¬¦ä¸²"></a>5 KMPå­—ç¬¦ä¸²</h2><p><a href="https://www.acwing.com/problem/content/833/">å­—ç¬¦ä¸²åŒ¹é…</a></p>
<p>è¿™ä¸ªé—®é¢˜æ¯”è¾ƒå¤æ‚ï¼Œä½†æœ‰ä¸€ä½è€å“¥çš„åˆ†äº«éå¸¸é€å½»ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œå¯ä»¥å‚è€ƒä¸€å“ˆ <a href="https://www.ruanyifeng.com/blog/2013/05/Knuthâ€“Morrisâ€“Pratt_algorithm.html">å…³äºKMPçš„ç®€å•ç†è§£ï¼Ÿ</a>ã€‚</p>
<p>æ¯”è¾ƒå½¢è±¡çš„è®²è§£å¯ä»¥å‚è€ƒ<a href="https://www.acwing.com/solution/content/14666/">è®²è§£</a>ã€‚</p>
<p>å¤§è‡´çš„æ€è·¯ï¼š</p>
<ol>
<li><p>æ„å»ºéƒ¨åˆ†åŒ¹é…è¡¨</p>
<blockquote>
<p>è¿™ä¸€æ­¥çš„å®ç°éœ€è¦åœ¨åŸæ¨¡å¼ä¸²çš„åŸºç¡€ä¸ŠæŠ½è±¡æ„é€ ä¸€ä¸ªè™šå—ï¼Œä»£è¡¨ä¸€ç§ç‰¹æ®Šçš„å½¢å¼ã€‚</p>
</blockquote>
</li>
<li><p>éå†æ¨¡ç‰ˆä¸²ï¼ŒåŒ¹é…æ¨¡å¼ä¸²</p>
</li>
<li><p>æ‰¾å‡ºéƒ¨åˆ†åŒ¹é… or å…¨éƒ¨åŒ¹é…</p>
</li>
</ol>
<p>å®ç°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>, M = <span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">char</span> s[M], p[N];  <span class="comment">// sä¸ºå­—ç¬¦ä¸²ï¼Œpä¸ºæ¨¡ç‰ˆä¸²</span></span><br><span class="line"><span class="type">int</span> ne[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; p+<span class="number">1</span> &gt;&gt; m &gt;&gt; s+<span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// è®©æ¨¡å¼ä¸²è‡ªæ¯”ï¼Œæ„å»ºéƒ¨åˆ†åŒ¹é…è¡¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>, j = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j &amp;&amp; p[i] != p[j+<span class="number">1</span>]) j = ne[j];  <span class="comment">// è€ƒè™‘å¤±é…çš„æƒ…å†µï¼Œå…¼å®¹åˆå§‹åŒ–çš„åˆ¤åˆ«</span></span><br><span class="line">        <span class="keyword">if</span> (p[i] == p[j+<span class="number">1</span>]) j++;  <span class="comment">// ä¸å¤±é…ï¼Œè€ƒè™‘æ›´é•¿çš„åŒ¹é…</span></span><br><span class="line">        ne[i] = j;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// å®é™…åŒ¹é…ä¸ä¸Šè¿°æ„å»ºåŒ¹é…è¡¨æ—¶æ€è·¯ç›¸ä¼¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j &amp;&amp; s[i] != p[j+<span class="number">1</span>]) j = ne[j];</span><br><span class="line">        <span class="keyword">if</span> (s[i] == p[j+<span class="number">1</span>]) j++;</span><br><span class="line">        <span class="keyword">if</span> (j == n) &#123;</span><br><span class="line">            cout &lt;&lt; i-n &lt;&lt; <span class="string">&quot; &quot;</span>;  <span class="comment">// æ³¨æ„é¢˜å¹²è¦æ±‚ä¸‹æ ‡ä»0è®¡æ•°</span></span><br><span class="line">            j = ne[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å€¼å¾—æ€è€ƒçš„é—®é¢˜</p>
<ol>
<li>åœ¨æ„å»ºéƒ¨åˆ†åŒ¹é…è¡¨æ—¶ï¼Œæœ€ç¬¨çš„åŠæ³•å°±æ˜¯éå†å¯»æ‰¾æ¯ä¸ªå­ä¸²çš„éƒ¨åˆ†åŒ¹é…å€¼ï¼Œé‚£ä¹ˆï¼Œå¦‚ä½•ç®€åŒ–å¯»æ‰¾ï¼Œæ³¨æ„åœ¨å¯»æ‰¾è¿‡ç¨‹ä¸­æœ‰å“ªäº›ç›¸ä¼¼ä¹‹å¤„ã€‚ï¼ˆå¯¹åº”äºæ„å»ºéƒ¨åˆ†åŒ¹é…è¡¨ï¼‰</li>
<li>ä»£ç ä¸­çš„iå’Œjå¦‚ä½•ç†è§£ï¼Œå°¤å…¶æ˜¯å®ƒä»¬çš„åˆå§‹åŒ–æ•°å€¼ï¼Œè¿™éå¸¸é‡è¦ã€‚</li>
</ol>
</blockquote>
<h2 id="6-Trieå­˜å‚¨ç»“æ„"><a href="#6-Trieå­˜å‚¨ç»“æ„" class="headerlink" title="6 Trieå­˜å‚¨ç»“æ„"></a>6 Trieå­˜å‚¨ç»“æ„</h2><h3 id="6-1-å­—ç¬¦ä¸²å­˜å‚¨"><a href="#6-1-å­—ç¬¦ä¸²å­˜å‚¨" class="headerlink" title="6.1 å­—ç¬¦ä¸²å­˜å‚¨"></a>6.1 å­—ç¬¦ä¸²å­˜å‚¨</h3><p>ç”¨æ ‘æ„å»ºåŸºæœ¬å­˜å‚¨ä½“ç³»ï¼Œä½†åœ¨å®ç°æ—¶éœ€è¦ç”¨æ•°ç»„æ¥å®Œæˆå¯¹æ ‘çš„å­˜å‚¨ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›ç†è§£ï¼š</p>
<p>æ ‘çš„åˆ†æ”¯ï¼šä¸åŒå­˜å‚¨å…ƒç´ </p>
<p>æ ‘çš„å¶å­ï¼šè¡¨å¾æŸæ•°æ®å…ƒç´ çš„ç‰¹æ€§æ•°æ®</p>
<p>è¿™ç§å­˜å‚¨æ–¹å¼çš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºå¯¹ç›®æ ‡å­˜å‚¨å…ƒç´ å…±æ€§çš„åˆ©ç”¨ï¼Œä»è€Œé™ä½å­˜å‚¨æˆæœ¬ã€‚</p>
<p>å®ç°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> son[N][<span class="number">26</span>], idx, cnt[N];  <span class="comment">// æ ‘çš„èŠ‚ç‚¹ç¼–å·ä»0å¼€å§‹ï¼Œä½†0è¡¨ç¤ºæ ¹ï¼Œè€Œsonæ•°ç»„çš„åˆå§‹åŒ–æ•°å€¼0æ„å‘³ç€èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œ26ä»£è¡¨26ä¸ªå°å†™å­—æ¯</span></span><br><span class="line"><span class="type">char</span> str[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">char</span> *str)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;  <span class="comment">// è¡¨ç¤ºä»æ ¹å¼€å§‹éå†ï¼ŒæŸ¥æ‰¾å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; str[i]; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u = str[i]-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> (!son[p][u]) son[p][u] = ++idx;</span><br><span class="line">        p = son[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">    cnt[p]++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">char</span> *str)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; str[i]; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u = str[i]-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> (!son[p][u]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        p = son[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> cnt[p];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        <span class="type">char</span> op[<span class="number">2</span>];</span><br><span class="line">        cin &gt;&gt; op &gt;&gt; str;</span><br><span class="line">        <span class="keyword">if</span> (*op == <span class="string">&#x27;I&#x27;</span>) <span class="built_in">insert</span>(str);</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="built_in">query</span>(str) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ä¹Ÿæœ‰æ›´ç®€å•çš„å®ç°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">map&lt;string, <span class="type">int</span>&gt; d;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        <span class="type">char</span> op;</span><br><span class="line">        string s;</span><br><span class="line">        cin &gt;&gt; op &gt;&gt; s;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&#x27;I&#x27;</span>) d[s]++;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; d[s] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å½“ç„¶è¿™é‡Œå­¦ä¹ çš„æ˜¯Trieè¿™æ ·ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæ‰€ä»¥ä¸æ¨å´‡è¿™ç§å†™æ³•ã€‚</p>
</blockquote>
<h3 id="6-2-æœ€å¤§å¼‚æˆ–å¯¹"><a href="#6-2-æœ€å¤§å¼‚æˆ–å¯¹" class="headerlink" title="6.2 æœ€å¤§å¼‚æˆ–å¯¹"></a>6.2 æœ€å¤§å¼‚æˆ–å¯¹</h3><p>åŸºäºTrieçš„å­˜å‚¨ä¸æ¯”è¾ƒè®¡ç®—ï¼ˆæ³¨æ„è¿™ä¸æ˜¯é«˜ç²¾åº¦å“¦ï¼Œc++ intå‹å­˜å‚¨å¤§å°ä¸º4Bï¼Œä¹Ÿå³32ä½ï¼Œæœ¬é¢˜ä¸­å•å…ƒå¤§å°ä¸º31ä½ï¼Œæ‰€ä»¥å•ä¸ªæ•°å€¼å¹¶æ²¡æœ‰è¶…è¿‡intä¸Šé™ï¼‰ã€‚</p>
<p>æœ¬é¢˜å…³é”®åœ¨äºå¦‚ä½•å°†è¯¥é—®é¢˜çš„æ•°æ®å­˜å‚¨ä½“æŠ½è±¡ä¸ºTrieæ ‘ï¼Œå³Insertå‡½æ•°çš„å®ç°ã€‚</p>
<p>æ³¨æ„æ¯”è¾ƒå¯¹è±¡ã€‚</p>
<p>å®ç°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>, M = <span class="number">3100010</span>;  <span class="comment">// Mä»£è¡¨äº†æ‰€æœ‰å¯èƒ½çš„ä½ç½®æ ‡ç­¾</span></span><br><span class="line"><span class="type">int</span> a[N], son[M][<span class="number">2</span>], idx;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">30</span>; i &gt;= <span class="number">0</span>; i--) &#123;  <span class="comment">// è¶Šæ¥è¿‘æ ‘æ ¹çš„ä½ç½®ä½æ•°è¶Šé«˜ï¼Œç¬¦åˆé¢˜æ„çš„æ¯”è¾ƒæ–¹å¼ï¼Œæœ€é«˜31ä½</span></span><br><span class="line">        <span class="type">int</span> &amp;s = son[p][x &gt;&gt; i &amp; <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (!s) s = ++idx;</span><br><span class="line">        p = s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">search</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;  <span class="comment">// å¯»æ‰¾ä¸xå¼‚æˆ–åçš„æœ€å¤§å€¼</span></span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>, res = <span class="number">0</span>;  <span class="comment">// pæ˜¯xçš„æœ€ä½³å¼‚æˆ–å…ƒç´ çš„ä¿¡æ ‡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">30</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="type">int</span> u = x &gt;&gt; i &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (son[p][!u]) &#123;</span><br><span class="line">            res += <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">            p = son[p][!u];</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">else</span> p = son[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        <span class="built_in">insert</span>(a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> res = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) res = <span class="built_in">max</span>(res, <span class="built_in">search</span>(a[i]));</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; res;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æå–æ•°æ®ä¸­çš„æŸä½æ•°å¯ä»¥ç”¨åˆ°çš„æ–¹æ³•ï¼š</p>
<ol>
<li>å–æ¨¡å–æ•´</li>
<li>ç§»ä½å†ä¸ç‰¹å®šæ•°è¿›è¡ŒæŒ‰ä½ç›¸ä¸</li>
</ol>
<blockquote>
<p>ç”±äºæœ¬é¢˜æ˜¯é›†åˆå†…ä»»æ„å…ƒç´ æ¯”è¾ƒï¼Œæ‰€ä»¥è´ªå¿ƒæ€è·¯å¹¶ä¸é€‚ç”¨ã€‚</p>
</blockquote>
<h2 id="7-å¹¶æŸ¥é›†"><a href="#7-å¹¶æŸ¥é›†" class="headerlink" title="7 å¹¶æŸ¥é›†"></a>7 å¹¶æŸ¥é›†</h2><p>è§£å†³è¯¥ç±»é—®é¢˜çš„å…³é”®æ˜¯ç¡®å®šå¦‚ä½•æ‰¾åˆ°é›†åˆæ ‡è¯†å…ƒï¼Œåœ¨è¿™è¿‡ç¨‹ä¸­è¿˜éœ€è¦å®Œæˆå“ªäº›å…¶å®ƒå·¥ä½œã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¾—æ˜ç™½æ€æ ·åˆå¹¶å…ƒç´ ï¼Œå½“ç„¶æœ€å…³é”®çš„è¿˜æ˜¯æ˜ç¡®p[x]çš„æ„ä¹‰ã€‚</p>
<h3 id="7-1-åˆå¹¶é›†åˆ"><a href="#7-1-åˆå¹¶é›†åˆ" class="headerlink" title="7.1 åˆå¹¶é›†åˆ"></a>7.1 åˆå¹¶é›†åˆ</h3><p>æ¨¡ç‰ˆé¢˜ï¼Œå…¶å®ƒå˜ç§éƒ½æ˜¯ä»è¿™é‡Œå»¶ä¼¸å‡ºæ¥çš„ã€‚</p>
<p>å®ç°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> s[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span> <span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (s[x] != x) x = s[x];</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span> <span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> u = <span class="built_in">find</span>(x), v = <span class="built_in">find</span>(y);</span><br><span class="line">    <span class="keyword">if</span> (u == v) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (u &lt; v) s[v] = u;</span><br><span class="line">    <span class="keyword">else</span> s[u] = v;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">search</span> <span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> u = <span class="built_in">find</span>(x), v = <span class="built_in">find</span>(y);</span><br><span class="line">    <span class="keyword">if</span> (u == v) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) s[i] = i;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> op[<span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        cin &gt;&gt; op &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        <span class="keyword">if</span> (*op == <span class="string">&#x27;M&#x27;</span>) <span class="built_in">merge</span>(x, y);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">search</span>(x, y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-2-è”é€šå—ä¸­ç‚¹çš„æ•°é‡"><a href="#7-2-è”é€šå—ä¸­ç‚¹çš„æ•°é‡" class="headerlink" title="7.2 è”é€šå—ä¸­ç‚¹çš„æ•°é‡"></a>7.2 è”é€šå—ä¸­ç‚¹çš„æ•°é‡</h3><p>ä¸æ¨¡ç‰ˆä¸åŒï¼Œå¹¶æŸ¥é›†åˆå§‹åŒ–æ€è·¯ä¸åŒï¼ŒåŒæ—¶è¿˜éœ€è¦è¿›è¡Œè®¡æ•°ã€‚</p>
<p>å®ç°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> s[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span> <span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s[x] &lt; <span class="number">0</span>) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">while</span> (s[x] &gt; <span class="number">0</span>) x = s[x];</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">C</span> <span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> u = <span class="built_in">find</span>(x), v = <span class="built_in">find</span>(y);</span><br><span class="line">    <span class="keyword">if</span> (u == v) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (u &lt; v) &#123;</span><br><span class="line">        s[u] += s[v];</span><br><span class="line">        s[v] = u;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        s[v] += s[u];</span><br><span class="line">        s[u] = v;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Q1</span> <span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> u = <span class="built_in">find</span>(x), v = <span class="built_in">find</span>(y);</span><br><span class="line">    <span class="keyword">if</span> (u == v) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Q2</span> <span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; -s[<span class="built_in">find</span>(x)] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(s, <span class="number">-1</span>, <span class="keyword">sizeof</span> s);</span><br><span class="line"></span><br><span class="line">    string op;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        cin &gt;&gt; op &gt;&gt; x;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;C&quot;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; y;</span><br><span class="line">            <span class="built_in">C</span>(x, y);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;Q1&quot;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; y;</span><br><span class="line">            <span class="built_in">Q1</span>(x, y);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">Q2</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-3-é£Ÿç‰©é“¾"><a href="#7-3-é£Ÿç‰©é“¾" class="headerlink" title="7.3 é£Ÿç‰©é“¾"></a>7.3 é£Ÿç‰©é“¾</h3><p>ä¸€ä¸ªæŒºé«˜ç«¯çš„å¹¶æŸ¥é›†é—®é¢˜ã€‚</p>
<p>å®ç°ï¼š</p>
<p>å¤§æ¡†æ¶ï¼š</p>
<p><img src="https://raw.githubusercontent.com/EverForests/PicGo/master/image-20241115165157223.png" alt="image-20241115165157223"></p>
<p>ä¸¤ä¸ªåˆ¤æ–­çš„æ€è·¯ï¼š</p>
<p><img src="https://raw.githubusercontent.com/EverForests/PicGo/master/image-20241115165211943.png" alt="image-20241115165211943"></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">50010</span>;</span><br><span class="line"><span class="type">int</span> p[N], d[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;  <span class="comment">// åœ¨å¹¶æŸ¥é›†ä¸­ï¼Œp[x]æ˜¯æ„å»ºç»´æŠ¤çš„å…³é”®</span></span><br><span class="line">    <span class="keyword">if</span> (p[x] != x) &#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="built_in">find</span>(p[x]);  <span class="comment">// è¿­ä»£å¯»æ‰¾xçš„æœ€ç»ˆæ‰€å±æ ¹</span></span><br><span class="line">        d[x] += d[p[x]];  <span class="comment">// æ›´æ–°d[x]ï¼Œä½¿å¾—æ¯ä¸ªç‚¹è·å¾—åˆ°æ ¹çš„è·ç¦»</span></span><br><span class="line">        p[x] = t;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) p[i] = i;  <span class="comment">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span></span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (m -- ) &#123;</span><br><span class="line">        <span class="type">int</span> t, x, y;</span><br><span class="line">        cin &gt;&gt; t &gt;&gt; x &gt;&gt; y;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (x &gt; n || y &gt; n) res++;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> px = <span class="built_in">find</span>(x), py = <span class="built_in">find</span>(y);  <span class="comment">// æ‰¾åˆ°xå’Œyæ‰€åœ¨çš„æ ¹ï¼Œå¦‚æœè¿‡å»ç»™å‡ºè¿‡æ–­è¨€ï¼Œé‚£ä¹ˆç†åº”æ˜¯ä¸€è‡´çš„</span></span><br><span class="line">            <span class="keyword">if</span> (t == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (px == py &amp;&amp; ((d[x] - d[y]) % <span class="number">3</span>)) res++;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (px != py) &#123;</span><br><span class="line">                    p[px] = py;</span><br><span class="line">                    d[px] = d[y]-d[x];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">      </span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (px == py &amp;&amp; ((d[x]-d[y]<span class="number">-1</span>) % <span class="number">3</span>)) res++;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (px != py) &#123;</span><br><span class="line">                    p[px] = py;</span><br><span class="line">                    d[px] = d[y]-d[x]+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-å †"><a href="#8-å †" class="headerlink" title="8 å †"></a>8 å †</h2><h3 id="8-1-å †æ’åº"><a href="#8-1-å †æ’åº" class="headerlink" title="8.1 å †æ’åº"></a>8.1 å †æ’åº</h3><blockquote>
<p>é€šè¿‡ä¸€äº›é—®é¢˜äº†è§£å †çš„åº•å±‚å‡½æ•°</p>
</blockquote>
<p>é¦–å…ˆéœ€è¦å»ºç«‹å¯¹äºå †çš„è®¤çŸ¥ï¼Œå †çš„æœ¬è´¨è¿˜æ˜¯äºŒå‰æ ‘ã€‚é€šå¸¸æˆ‘ä»¬åœ¨å®ç°å †çš„æ—¶å€™æ˜¯é‡‡ç”¨çº¿æ€§å­˜å‚¨çš„æ–¹å¼ï¼Œç”¨æ•°ç»„ä½œä¸ºå­˜å‚¨ç»“æ„ã€‚ç ”ç©¶äºŒå‰æ ‘ä¸­å„èŠ‚ç‚¹çš„ç¼–å·ï¼Œå°±èƒ½å¯¹è¿™ç§é™æ€å­˜å‚¨æ–¹å¼æœ‰ä¸€ä¸ªåˆæ­¥çš„ç†è§£ã€‚</p>
<p>å †çš„æ„å»ºä»¥åŠå„ç§æ“ä½œä¸»è¦ä¸ä¸¤ä¸ªåº•å±‚å‡½æ•°ç›¸å…³â€”â€”downå’Œupï¼Œdownä¸»è¦ç ”ç©¶ç›®æ ‡å…ƒç´ åœ¨å †ä¸­æ˜¯å¦å…·æœ‰ä¸‹æ½œçš„èƒ½åŠ›ï¼Œupåˆ™ç›¸åã€‚é€šå¸¸å †æœ‰ä¸¤ç§ç±»å‹ï¼Œå°æ ¹å †å’Œå¤§æ ¹å †ã€‚è¿™é‡Œä»¥å°æ ¹å †ä¸ºä¾‹ï¼Œdownå°±æ˜¯ä½¿å¾—ä»¥ç›®æ ‡å…ƒç´ ä¸ºæ ¹çš„å­æ ‘æ»¡è¶³å †çš„æ¡ä»¶ï¼Œä¸æ–­æ¯”è¾ƒç›®æ ‡å…ƒç´ ä¸å…¶å·¦å³å„¿å­ï¼ˆçœ‹ä¸‰ä¸ªå…ƒç´ ä¸­å“ªä¸ªæœ€å°ï¼Œæ ¹æ˜¯å¦è¦ä¸‹ç§»ï¼‰ï¼Œåšswapäº¤æ¢ï¼ˆupå°±ç•¥äº†ï¼Œå·®ä¸å¤šï¼‰ã€‚</p>
<p>ç„¶ååŸºäºä¸Šè¿°ä¸¤ä¸ªåº•å±‚å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å †çš„å„ç§ç»´æŠ¤æ“ä½œï¼š</p>
<p><img src="https://raw.githubusercontent.com/EverForests/PicGo/master/image-20241115165140781.png" alt="image-20241115165140781"></p>
<p>å®ç°ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> cnt, h[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">down</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t = u;</span><br><span class="line">    <span class="keyword">if</span> (u*<span class="number">2</span> &lt;= cnt &amp;&amp; h[u*<span class="number">2</span>] &lt;= h[t]) t = u*<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (u*<span class="number">2</span>+<span class="number">1</span> &lt;= cnt &amp;&amp; h[u*<span class="number">2</span>+<span class="number">1</span>] &lt;= h[t]) t = u*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (u != t) &#123;</span><br><span class="line">        <span class="built_in">swap</span>(h[u], h[t]);</span><br><span class="line">        <span class="built_in">down</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line"></span><br><span class="line">    cnt = n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; h[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n/<span class="number">2</span>; i; i--) <span class="built_in">down</span>(i);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        cout &lt;&lt; h[<span class="number">1</span>] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        h[<span class="number">1</span>] = h[cnt];</span><br><span class="line">        cnt--;</span><br><span class="line">        <span class="built_in">down</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-2-æ¨¡æ‹Ÿå †"><a href="#8-2-æ¨¡æ‹Ÿå †" class="headerlink" title="8.2 æ¨¡æ‹Ÿå †"></a>8.2 æ¨¡æ‹Ÿå †</h3><p>æœ¬é¢˜çš„èƒŒæ™¯ä¾ç„¶æ˜¯å †ï¼Œä¸»è¦éš¾ç‚¹åœ¨äºå®¡é¢˜ï¼Œå³å¦‚ä½•åœ¨ä¸æ–­å˜åŒ–çš„å †ä¸­æ‰¾åˆ°ç¬¬kä¸ªæ’å…¥çš„å…ƒç´ ã€‚</p>
<p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªç›´è§‚çš„æƒ³æ³•æ˜¯æ„å»ºä½ç½®æŒ‡é’ˆï¼Œå°†å…ƒç´ ä½ç½®ä¸æ’å…¥æ¬¡åºç›¸å…³è”ï¼Œè¿™æ ·åœ¨å †çš„ä¸æ–­swapä¸­ä¹Ÿä¸ä¼šä¸¢å¤±å®ƒçš„æ’å…¥æ¬¡åºï¼ˆç”±äºå †ä¸­å­˜åœ¨ç›¸ç­‰çš„å…ƒç´ å€¼ï¼Œæ‰€ä»¥å°†æ’å…¥æ¬¡åºä¸å€¼ç›¸å…³è”æ˜¯ä¸å¯è¡Œçš„ï¼‰ã€‚</p>
<blockquote>
<p>swapå‡½æ•°å…·ä½“æ‹“å±•äº†ä»€ä¹ˆï¼Ÿ</p>
<p><img src="https://raw.githubusercontent.com/EverForests/PicGo/master/image-20241115165107033.png" alt="image-20241115165107033" style="zoom:50%;" /></p>
</blockquote>
<p>æˆ‘ä»¬æ‹“å±•ä¸€ä¸‹swapçš„åŠŸèƒ½å°±å¥½äº†ï¼Œæ³¨æ„å®ç°è¿‡ç¨‹ä¸­çš„å„ç§é—®é¢˜ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> cnt, m, h[N], hp[N], ph[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">heap_swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;  <span class="comment">// äº¤æ¢å †ä¸­aå·ä¸bå·å…ƒç´ ï¼ŒåŒæ—¶è°ƒæ•´ä¸å®ƒä»¬ç›¸å…³è”çš„ç´¢å¼•å…ƒç´ </span></span><br><span class="line">    <span class="built_in">swap</span>(ph[hp[a]], ph[hp[b]]);</span><br><span class="line">    <span class="built_in">swap</span>(hp[a], hp[b]);</span><br><span class="line">    <span class="built_in">swap</span>(h[a], h[b]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">down</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t = u;</span><br><span class="line">    <span class="keyword">if</span> (u*<span class="number">2</span> &lt;= cnt &amp;&amp; h[u*<span class="number">2</span>] &lt; h[t]) t = u*<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (u*<span class="number">2</span>+<span class="number">1</span> &lt;= cnt &amp;&amp; h[u*<span class="number">2</span>+<span class="number">1</span>] &lt; h[t]) t = u*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (u != t) &#123;</span><br><span class="line">        <span class="built_in">heap_swap</span>(u, t);</span><br><span class="line">        <span class="built_in">down</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">up</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (u/<span class="number">2</span> &amp;&amp; h[u/<span class="number">2</span>] &gt; h[u]) &#123;  <span class="comment">// è¿™é‡Œå®¹æ˜“å‡ºé—®é¢˜çš„åœ°æ–¹æ˜¯ç­‰å·ï¼Œè‡³äºåŸå› ï¼Œè¿˜éœ€è¦æ€è€ƒ</span></span><br><span class="line">        <span class="built_in">heap_swap</span>(u/<span class="number">2</span>, u);</span><br><span class="line">        <span class="built_in">up</span>(u/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éé€’å½’å½¢å¼</span></span><br><span class="line"><span class="comment">// void up(int u)</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     while (u / 2 &amp;&amp; h[u] &lt; h[u / 2])</span></span><br><span class="line"><span class="comment">//     &#123;</span></span><br><span class="line"><span class="comment">//         heap_swap(u, u / 2);</span></span><br><span class="line"><span class="comment">//         u &gt;&gt;= 1;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    string op;</span><br><span class="line">    <span class="type">int</span> k, x;</span><br><span class="line">    <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;I&quot;</span>) &#123;</span><br><span class="line">            m++;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            h[++cnt] = x;  <span class="comment">// cntå·ä½ï¼ˆæœªè°ƒæ•´å †çš„æœ€åä¸€ä¸ªæ•°ï¼‰çš„å€¼æ˜¯x</span></span><br><span class="line">            ph[m] = cnt;  <span class="comment">// ç¬¬mä¸ªæ’å…¥çš„æ•°ä½äºcntå·ä½</span></span><br><span class="line">            hp[cnt] = m;  <span class="comment">// ç¬¬cntå·ä½æ˜¯ç¬¬mä¸ªæ’å…¥çš„æ•°</span></span><br><span class="line">            <span class="built_in">up</span>(cnt);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;PM&quot;</span>) cout &lt;&lt; h[<span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;DM&quot;</span>) &#123;</span><br><span class="line">            <span class="built_in">heap_swap</span>(<span class="number">1</span>, cnt);</span><br><span class="line">            cnt--;</span><br><span class="line">            <span class="built_in">down</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;D&quot;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; k;</span><br><span class="line">            k = ph[k];  <span class="comment">// ä¸€ä¸ªè‡³å…³é‡è¦çš„å·®å¼‚ç‚¹ï¼Œåœ¨åˆ é™¤æ‰ç¬¬kä¸ªæ’å…¥çš„å…ƒç´ åï¼Œå°±æ— æ³•å†æ ¹æ®ph[k]å»å¯»æ‰¾ç½®æ¢ä¹‹åçš„å…ƒç´ ä½ç½®äº†</span></span><br><span class="line">            <span class="built_in">heap_swap</span>(k, cnt);</span><br><span class="line">            cnt--;</span><br><span class="line">            <span class="built_in">down</span>(k);</span><br><span class="line">            <span class="built_in">up</span>(k);  <span class="comment">// å› ä¸ºè¿™é‡Œé‡‡å–çš„æ˜¯å°†æœ«ä½æ•°ä¸å¾…å¤„ç†çš„ä»»æ„æ•°äº¤æ¢ï¼Œå› æ­¤upå’Œdownéƒ½éœ€è¦è€ƒè™‘</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;C&quot;</span>) &#123;</span><br><span class="line">            cin &gt;&gt; k &gt;&gt; x;</span><br><span class="line">            k = ph[k];</span><br><span class="line">            h[k] = x;</span><br><span class="line">            <span class="built_in">down</span>(k);</span><br><span class="line">            <span class="built_in">up</span>(k);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9-æ•£åˆ—è¡¨"><a href="#9-æ•£åˆ—è¡¨" class="headerlink" title="9 æ•£åˆ—è¡¨"></a>9 æ•£åˆ—è¡¨</h2><h3 id="9-1-æ¨¡æ‹Ÿæ•£åˆ—"><a href="#9-1-æ¨¡æ‹Ÿæ•£åˆ—" class="headerlink" title="9.1 æ¨¡æ‹Ÿæ•£åˆ—"></a>9.1 æ¨¡æ‹Ÿæ•£åˆ—</h3><p>æ•£åˆ—è¡¨çš„ä½œç”¨ä¸»è¦æ˜¯å°†æˆ‘ä»¬å¸¸ç”¨çš„ç¦»æ•£æ•°æ®è¿›è¡Œç´§å¯†åŒ–å­˜å‚¨ï¼Œæé«˜ç©ºé—´çš„åˆ©ç”¨ç‡ã€‚å®ƒæœ‰ä¸¤ç§ä¸»è¦çš„å®ç°ï¼šå¼€æ”¾å¯»å€æ³•å’Œæ‹‰é“¾æ³•ã€‚</p>
<p>å¼€æ”¾å¯»å€æ³•å®ç°ï¼š</p>
<p>ä¸»è¦ç»´æŠ¤çš„æ•°æ®ç»“æ„æ˜¯æ•°ç»„ï¼Œåšç®€å•çº¿æ€§çš„å¤„ç†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>, null = <span class="number">0x3f3f3f3f</span>;  <span class="comment">// è®¾ç½®æ•£åˆ—é•¿åº¦ï¼Œè‡ªå®šï¼Œè¶³å¤Ÿå¤§å³å¯ï¼›nulléœ€è¦å¤§äºé¢˜ç›®ç»™å‡ºçš„æ•°æ®èŒƒå›´ã€‚</span></span><br><span class="line"><span class="type">int</span> h[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> k = (x % N + N) % N;  <span class="comment">// è®¾ç½®æ•£åˆ—å‡½æ•°</span></span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> t = k;</span><br><span class="line">    <span class="keyword">while</span> (h[t] != null &amp;&amp; h[t] != x) &#123;</span><br><span class="line">        t++;</span><br><span class="line">        <span class="keyword">if</span> (t == N) t = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> h);</span><br><span class="line">  </span><br><span class="line">    string op;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        cin &gt;&gt; op &gt;&gt; x;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;I&quot;</span>) h[<span class="built_in">find</span>(x)] = x;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (h[<span class="built_in">find</span>(x)] == null) cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‹‰é“¾æ³•å®ç°ï¼š</p>
<p>ä¸»è¦ç»´æŠ¤çš„æ•°æ®ç»“æ„æ˜¯é™æ€åå­—é“¾è¡¨ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>, null = <span class="number">0x3f3f3f3f</span>;  <span class="comment">// è®¾ç½®æ•£åˆ—é•¿åº¦ï¼Œè‡ªå®šï¼Œè¶³å¤Ÿå¤§å³å¯ï¼›nulléœ€è¦å¤§äºé¢˜ç›®ç»™å‡ºçš„æ•°æ®èŒƒå›´ã€‚</span></span><br><span class="line"><span class="type">int</span> h[N], e[N], ne[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span> <span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> k = (x % N + N) % N;  <span class="comment">// è®¾ç½®æ•£åˆ—å‡½æ•°</span></span><br><span class="line">    e[idx] = x;</span><br><span class="line">    ne[idx] = h[k];</span><br><span class="line">    h[k] = idx++;  <span class="comment">// æ³¨æ„idxçš„è‡ªå¢</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> k = (x % N + N) % N;  <span class="comment">// è®¾ç½®æ•£åˆ—å‡½æ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[k]; i != <span class="number">-1</span>; i = ne[i]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e[i] == x) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);</span><br><span class="line">  </span><br><span class="line">    string op;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        cin &gt;&gt; op &gt;&gt; x;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;I&quot;</span>) <span class="built_in">insert</span>(x);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">find</span>(x)) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-2-å­—ç¬¦ä¸²å“ˆå¸Œ"><a href="#9-2-å­—ç¬¦ä¸²å“ˆå¸Œ" class="headerlink" title="9.2 å­—ç¬¦ä¸²å“ˆå¸Œ"></a>9.2 å­—ç¬¦ä¸²å“ˆå¸Œ</h3><p>å®ç°ï¼š</p>
<p><img src="https://raw.githubusercontent.com/EverForests/PicGo/master/image-20241115165044339.png" alt="image-20241115165044339"></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ULL;  <span class="comment">// è¿™é‡Œç”±äºæ¯ä¸ªå­—ç¬¦æ‰€å¯¹åº”çš„ASCIIç å¯èƒ½éå¸¸å¤§ï¼Œåˆæ˜¯éè´Ÿæ•°ï¼Œæ‰€ä»¥é€‰æ‹©æ‰©å¤§èŒƒå›´ï¼ŒåŒæ—¶æº¢å‡ºäº†ä¹Ÿä¸ç”¨ç‰¹æ®Šè€ƒè™‘ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>, P = <span class="number">131</span>;  <span class="comment">// è¿™é‡ŒPçš„é€‰å–å’ŒASCIIç çš„èŒƒå›´0-127æœ‰å…³</span></span><br><span class="line"></span><br><span class="line">ULL h[N], p[N];</span><br><span class="line"><span class="type">char</span> str[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h[r] - h[l<span class="number">-1</span>]*p[r-l+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; str+<span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">    p[<span class="number">0</span>] = <span class="number">1</span>;  <span class="comment">// ä¿è¯p[k]å°±æ˜¯Pçš„kæ¬¡æ–¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        h[i] = h[i<span class="number">-1</span>]*P + str[i];</span><br><span class="line">        p[i] = p[i<span class="number">-1</span>] *P;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> l1, r1, l2, r2;</span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        cin &gt;&gt; l1 &gt;&gt; r1 &gt;&gt; l2 &gt;&gt; r2;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">get</span>(l1, r1) == <span class="built_in">get</span>(l2, r2)) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;  <span class="comment">// ä¸å¯èƒ½å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„å­ä¸²å“ˆå¸Œå€¼ç›¸åŒã€‚</span></span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>acking</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>èƒŒåŒ…é—®é¢˜</title>
    <url>/2024/11/14/acking/DP/Package/</url>
    <content><![CDATA[<h2 id="01èƒŒåŒ…-go"><a href="#01èƒŒåŒ…-go" class="headerlink" title="01èƒŒåŒ… go"></a>01èƒŒåŒ… <a href="https://www.acwing.com/problem/content/2/">go</a></h2><p>é—®é¢˜ç®€ä»‹ï¼šåœ¨ä¸€å®šä½“ç§¯çš„åŒ…é‡Œè£…å…¥è¶³å¤Ÿå¤šçš„ç‰©å“ä½¿å¾—èƒŒåŒ…é‡Œçš„ç‰©å“ä»·å€¼æœ€å¤§åŒ–ã€‚</p>
<p>è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’åŸºæœ¬ä¸‰æ­¥ï¼Œæ„å»ºæ¨¡å‹ã€è®¾ç½®çŠ¶æ€è½¬ç§»è§„åˆ™ã€åšå¥½çŠ¶æ€åˆå§‹åŒ–ã€‚å…ˆæ³›åŒ–é—®é¢˜ï¼Œå†å¾—åˆ°é—®é¢˜çš„å®Œå…¨è§£ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦æ¢è®¨ä½“ç§¯VèƒŒåŒ…ä¸‹Nä¸ªç‰©å“çš„æœ€å¤§ä»·å€¼ï¼Œå°±ç ”ç©¶åœ¨ä»»æ„ä½“ç§¯vèƒŒåŒ…ä¸‹ä»»æ„nä¸ªç‰©å“çš„æœ€å¤§ä»·å€¼çš„â€è®¡ç®—å…¬å¼â€ï¼Œç„¶åä»£å…¥Vå’ŒNå°±å¯ä»¥å¾—åˆ°ç›®æ ‡ç»“æœã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸€èˆ¬å†™æ³•</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> v[N], w[N], f[N][N];  <span class="comment">// fæ•°ç»„è®°å½•çš„æ˜¯jä½“ç§¯ä¸‹å‰iä¸ªç‰©å“çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;  <span class="comment">// è®°å½•ç‰©å“çš„ä¸ªæ•°å’ŒèƒŒåŒ…çš„å®¹ç§¯</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];  <span class="comment">// åˆå§‹åŒ–ç‰©å“ä½“ç§¯å’Œä»·å€¼</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(j &lt; v[i]) f[i][j] = f[i<span class="number">-1</span>][j];</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                f[i][j] = <span class="built_in">max</span>(f[i<span class="number">-1</span>][j], f[i<span class="number">-1</span>][j-v[i]]+w[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç”±äºæˆ‘ä»¬æœ€ç»ˆæ‰€éœ€è¦çš„ç»“æœæ˜¯ä¸€ä¸ªç¡®å®šçš„å€¼ï¼Œæ‰€ä»¥å¯ä»¥ä¼˜åŒ–æ‰æ•°ç»„çš„æŸä¸ªç»´åº¦ï¼Œå¯ä»¥ç†è§£ä¸ºåšæ›´ç²—ç³™çš„åˆ†ç±»ã€‚</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å°†äºŒç»´æ•°ç»„ä¼˜åŒ–ä¸ºä¸€ç»´æ•°ç»„åçš„å†™æ³•</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> v[N], w[N], f[N]; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;  <span class="comment">// è®°å½•ç‰©å“çš„ä¸ªæ•°å’ŒèƒŒåŒ…çš„å®¹ç§¯</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];  <span class="comment">// åˆå§‹åŒ–ç‰©å“ä½“ç§¯å’Œä»·å€¼</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= v[i]; j--)  </span><br><span class="line">            f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + w[i]);  <span class="comment">// è¿™ç§å†™æ³•ç›¸å¯¹äºä¸€èˆ¬å†™æ³•å°†ä¸€äº›æ— æ³•æ›´æ–°çš„ä½ç½®ç•¥è¿‡äº†</span></span><br><span class="line">    &#125; </span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å®Œå…¨èƒŒåŒ…é—®é¢˜-go"><a href="#å®Œå…¨èƒŒåŒ…é—®é¢˜-go" class="headerlink" title="å®Œå…¨èƒŒåŒ…é—®é¢˜ go"></a>å®Œå…¨èƒŒåŒ…é—®é¢˜ <a href="https://www.acwing.com/problem/content/3/">go</a></h2><p>é—®é¢˜ç®€ä»‹ï¼šåœ¨01èƒŒåŒ…çš„åŸºç¡€ä¸ŠåŠ å…¥ä¸€äº›å˜æ•°ï¼Œæ¯ç§ç‰©å“éƒ½æœ‰æ— æ•°ä¸ªã€‚</p>
<p>è§£é¢˜æ–¹å‘ï¼šæè¿°ä¸å¯è®¡æ•°é—®é¢˜ï¼Œå¯ä»¥é‡‡ç”¨è¿­ä»£æ–¹æ³•ï¼Œéš¾ç‚¹åœ¨äºæ¨å¯¼çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚ç›¸è¾ƒäº01èƒŒåŒ…ï¼Œå®Œå…¨èƒŒåŒ…çš„çŠ¶æ€æƒ…å†µä¸å†æ˜¯2ç§ï¼Œè€Œæ˜¯kç§ã€‚ </p>
<p><img src="https://raw.githubusercontent.com/EverForests/PicGo/master/image-20241114164427234.png" alt="image-20241114164427234"></p>
<p>ä»kç§çŠ¶æ€å‡ºå‘ï¼Œç»™å‡ºæ¯å±‚çš„ä¸€èˆ¬è½¬ç§»å½¢å¼ï¼Œç„¶ååšä»£æ¢æ‰¾åˆ°é€’æ¨è§„å¾‹ã€‚</p>
<p><img src="https://raw.githubusercontent.com/EverForests/PicGo/master/image-20241114164436619.png" alt="image-20241114164436619"></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æœ´ç´ è§£æ³•</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> v[N], w[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            f[i][j] = f[i<span class="number">-1</span>][j];</span><br><span class="line">            <span class="keyword">if</span> (j &gt;= v[i]) f[i][j] = <span class="built_in">max</span>(f[i][j], f[i][j-v[i]] + w[i]);  <span class="comment">// è¿­ä»£å½¢å¼</span></span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¼˜åŒ–ç©ºé—´ç‰ˆ</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> v[N], w[N];</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = v[i]; j &lt;= m; j++) &#123;</span><br><span class="line">            f[j] = f[j]; <span class="comment">// æŒ‰C++å¤„ç†é€»è¾‘ï¼Œåœ¨è®¡ç®—æœ¬å±‚f[j]æ—¶ï¼Œå³ä¾§ä¸€å®šæ˜¯ä¸Šå±‚f[j]ï¼Œæ”¹å†™æ— å¼‚ä¹‰</span></span><br><span class="line">            <span class="comment">// f[i][j] = f[i-1][j];</span></span><br><span class="line">            f[j] = <span class="built_in">max</span>(f[j], f[j-v[i]] + w[i]);  <span class="comment">// è¿­ä»£å½¢å¼</span></span><br><span class="line">            <span class="comment">// f[i][j] = max(f[i][j], f[i][j-v[i]] + w[i]); åˆç†</span></span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¤šé‡èƒŒåŒ…é—®é¢˜-go"><a href="#å¤šé‡èƒŒåŒ…é—®é¢˜-go" class="headerlink" title="å¤šé‡èƒŒåŒ…é—®é¢˜ go"></a>å¤šé‡èƒŒåŒ…é—®é¢˜ <a href="https://www.acwing.com/problem/content/4/">go</a></h2><p>ç›¸å½“äºå¼±åŒ–ç‰ˆçš„å®Œå…¨èƒŒåŒ…ï¼Œæ¯ç§ç‰©å“çš„æ•°é‡æ˜¯æœ‰é™çš„ã€‚</p>
<p>å¯¹äºæ­¤é—®é¢˜ï¼Œåœ¨æ•°æ®é‡ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘å°†å…¶åŒ–å½’ä¸º01èƒŒåŒ…é—®é¢˜æ¥è§£å†³ã€‚å¯¹äºç¬¬iç§ç‰©å“ï¼Œéœ€è¦åŒ…å«å°†1ã€2ã€3â€¦kä¸ªå¯¹è±¡æ”¾å…¥èƒŒåŒ…çš„æ€è€ƒï¼Œéš¾ç‚¹åœ¨äºçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„è®¾è®¡ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> v[N], w[N], s[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i] &gt;&gt; s[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt;= s[i] &amp;&amp; k*v[i] &lt;= j; k++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (k == <span class="number">0</span>) f[i][j] = f[i<span class="number">-1</span>][j];</span><br><span class="line">                <span class="keyword">else</span> f[i][j] = <span class="built_in">max</span>(f[i][j], f[i<span class="number">-1</span>][j-k*v[i]] + k*w[i]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¤šé‡èƒŒåŒ…é—®é¢˜-Â·-åŠ å¼ºç‰ˆ-go"><a href="#å¤šé‡èƒŒåŒ…é—®é¢˜-Â·-åŠ å¼ºç‰ˆ-go" class="headerlink" title="å¤šé‡èƒŒåŒ…é—®é¢˜ Â· åŠ å¼ºç‰ˆ go"></a>å¤šé‡èƒŒåŒ…é—®é¢˜ Â· åŠ å¼ºç‰ˆ <a href="https://www.acwing.com/problem/content/5/">go</a></h2><p>åœ¨æ•°æ®æ¯”è¾ƒå¼ºæ—¶ï¼Œå°±ä¸èƒ½ç”¨è¿™æ ·çš„å¤šé‡å¾ªç¯æ¥ç¡¬è§£äº†ï¼Œå¯ä»¥è€ƒè™‘é€šè¿‡åˆ†ç»„æ¥æ„å»ºä¸€ä¸ªæ–°çš„æƒ…æ™¯ã€‚</p>
<p>è¿™é‡Œé‡‡ç”¨äºŒè¿›åˆ¶æ³•ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯äºŒè¿›åˆ¶æ³•ï¼Ÿå¯¹äº1ï½7ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨1ã€2ã€4æ¥ç»„åˆè¡¨ç¤ºï¼Œé€šè¿‡æé«˜é€»è¾‘å¤æ‚åº¦æ¥é™ä½è¡¨ç¤ºå¤æ‚åº¦ï¼Œè¿™ä¾¿æ˜¯äºŒè¿›åˆ¶æ³•ï¼Œå¯¹äºæ•°é‡ç›¸å…³é—®é¢˜å°¤ä¸ºæœ‰æ•ˆã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">12010</span>, M = <span class="number">2010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> f[M];</span><br><span class="line"><span class="type">int</span> v[N], w[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> a, b, s;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; s;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> k = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (s &gt;= k) &#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            v[cnt] = a*k;</span><br><span class="line">            w[cnt] = b*k;</span><br><span class="line">            s -= k;</span><br><span class="line">            k *= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (s &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            v[cnt] = a*s;</span><br><span class="line">            w[cnt] = b*s;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    n = cnt;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= v[i]; j--)</span><br><span class="line">            f[j] = <span class="built_in">max</span>(f[j], f[j-v[i]] + w[i]);</span><br><span class="line">            </span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ†ç»„èƒŒåŒ…é—®é¢˜-go"><a href="#åˆ†ç»„èƒŒåŒ…é—®é¢˜-go" class="headerlink" title="åˆ†ç»„èƒŒåŒ…é—®é¢˜ go"></a>åˆ†ç»„èƒŒåŒ…é—®é¢˜ <a href="https://www.acwing.com/problem/content/9/">go</a></h2><p>æ•°æ®é‡è¾ƒå°ï¼Œåˆ†ç»„è¾ƒä¸ºç®€æ´ï¼Œæ‰€ä»¥æ”¹å†™ä¸€ä¸‹çŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±å¯ä»¥è§£å†³ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> s[N];</span><br><span class="line"><span class="type">int</span> v[N][N], w[N][N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; s[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= s[i]; j++) cin &gt;&gt; v[i][j] &gt;&gt; w[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            f[i][j] = f[i<span class="number">-1</span>][j];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= s[i]; k++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &gt;= v[i][k]) f[i][j] = <span class="built_in">max</span>(f[i][j], f[i<span class="number">-1</span>][j - v[i][k]] + w[i][k]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>acking</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>çº¿æ€§DP</title>
    <url>/2024/11/22/acking/DP/linerDP/</url>
    <content><![CDATA[<h2 id="æ•°å­—ä¸‰è§’å½¢-Go"><a href="#æ•°å­—ä¸‰è§’å½¢-Go" class="headerlink" title="æ•°å­—ä¸‰è§’å½¢ Go"></a>æ•°å­—ä¸‰è§’å½¢ <a href="https://www.acwing.com/problem/content/900/">Go</a></h2><p>åŸºäºå®ä½“é€»è¾‘çš„åŠ¨æ€è§„åˆ’ç§°ä¸ºçº¿æ€§DPï¼Œé‡‡ç”¨é—«æ°DPåˆ†ææ³•ï¼Œè‡ªä¸‹è€Œä¸Šï¼ˆè¿™æ ·æ¯ç‚¹çš„åç»§æ˜¯æœ‰é™çš„ï¼ŒçŠ¶æ€å¯è§£ï¼‰ï¼Œè®¾ç»ˆç‚¹ä¸ºç‚¹Kçš„æœ€å¤§è·¯å¾„æ•°å­—å’Œä¸ºf[i][j]ï¼ˆå› ä¸ºæœ‰ä¸¤ä¸ªç»´åº¦ï¼‰ã€‚åŸºäºè¿™æ ·çš„å‡è®¾ï¼Œå¾—å‡ºè½¬ç§»æ–¹ç¨‹ï¼Œf[1][1]å°±æ˜¯ç›®æ ‡ç»“æœã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">510</span>;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">            cin &gt;&gt; f[i][j];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n; i; i--)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">            f[i][j] = <span class="built_in">max</span>(f[i+<span class="number">1</span>][j], f[i+<span class="number">1</span>][j+<span class="number">1</span>]) + f[i][j];</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; f[<span class="number">1</span>][<span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æœ€é•¿ä¸Šå‡å­åºåˆ—-Go"><a href="#æœ€é•¿ä¸Šå‡å­åºåˆ—-Go" class="headerlink" title="æœ€é•¿ä¸Šå‡å­åºåˆ— Go"></a>æœ€é•¿ä¸Šå‡å­åºåˆ— <a href="https://www.acwing.com/problem/content/897/">Go</a></h2><p>ç»™å®šä¸€ä¸ªåºåˆ—ï¼Œæ±‚æ•°å€¼ä¸¥æ ¼é€’å¢çš„æœ€å¤§é•¿åº¦å­åºåˆ—ã€‚</p>
<p>æ„é€ ï¼Œä»¥åºåˆ—ä¸­ç¬¬iä¸ªæ•°ç»“å°¾çš„å­åºåˆ—ä¸­æœ€å¤§é•¿åº¦ä¸ºf[i]ï¼Œå¯¹äºç¬¬kä¸ªæ•°ï¼Œåœ¨è®¡ç®—f[k]æ—¶ï¼Œéœ€è¦è€ƒè™‘çš„æ˜¯ä»¥ç¬¬1ï½k-1ä¸ªæ•°ç»“å°¾çš„å­åºåˆ—ä¸­çš„æœ€å¤§é•¿åº¦ï¼Œéå†å–æœ€å¤§å€¼å³å¯ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N], f[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        f[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i] &gt; a[j]) f[i] = <span class="built_in">max</span>(f[i], f[j] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) res = <span class="built_in">max</span>(res, f[i]);</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æœ€é•¿ä¸Šå‡å­åºåˆ—å¼ºåŒ–ç‰ˆ-Go"><a href="#æœ€é•¿ä¸Šå‡å­åºåˆ—å¼ºåŒ–ç‰ˆ-Go" class="headerlink" title="æœ€é•¿ä¸Šå‡å­åºåˆ—å¼ºåŒ–ç‰ˆ Go"></a>æœ€é•¿ä¸Šå‡å­åºåˆ—å¼ºåŒ–ç‰ˆ <a href="https://www.acwing.com/problem/content/898/">Go</a></h2><p>åœ¨æ•°æ®é‡è¾ƒå¤§æ—¶ï¼ŒåŸºç¡€çš„å¤šé‡å¾ªç¯è§£æ³•å·²ä¸å†é€‚ç”¨ã€‚è¿™é‡Œæœ‰ä¸€ç§ç‰¹æ®Šçš„è€ƒè™‘ï¼Œæ‰¾åˆ°æ¯ç§é•¿åº¦ä¸Šå‡å­åºåˆ—çš„æœ€å°æœ«å°¾å€¼f[i]ï¼Œåˆ©ç”¨åè¯æ³•å¯ä»¥éªŒè¯fä¹Ÿä¸ºä¸¥æ ¼ä¸Šå‡åºåˆ—ï¼Œè¿™æ ·åªéœ€è¦éå†åŸåºåˆ—ä¸­çš„æ¯ä¸€ä¸ªæ•°jï¼Œåˆ©ç”¨äºŒåˆ†æ³•æ‰¾åˆ°fåºåˆ—ä¸­å°äºjçš„æœ€å¤§æ•°çš„ä½ç½®ï¼ŒåŠ å…¥jä¸æ–­æ›´æ–°fåºåˆ—ï¼Œæœ€ç»ˆfåºåˆ—çš„é•¿åº¦å°±æ˜¯åŸåºåˆ—ä¸­æœ€é•¿çš„ä¸Šå‡å­åºåˆ—ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> f[N], a[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">-2e9</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) cin &gt;&gt; a[i];</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, r = len;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="type">int</span> mid = (l + r + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (f[mid] &lt; a[i]) l = mid;</span><br><span class="line">            <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        f[r + <span class="number">1</span>] = a[i];</span><br><span class="line">        len = <span class="built_in">max</span>(len, r+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; len &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æœ€é•¿å…¬å…±å­åºåˆ—-Go"><a href="#æœ€é•¿å…¬å…±å­åºåˆ—-Go" class="headerlink" title="æœ€é•¿å…¬å…±å­åºåˆ— Go"></a>æœ€é•¿å…¬å…±å­åºåˆ— <a href="https://www.acwing.com/problem/content/899/">Go</a></h2><p>è€ƒè™‘åºåˆ—Açš„å‰ié¡¹ï¼Œåºåˆ—Bçš„å‰jé¡¹ï¼Œè®¨è®ºæ¯ç»„æƒ…å†µä¸‹çš„æœ€é•¿å…¬å…±å­åºåˆ—ã€‚</p>
<p>è½¬ç§»æ–¹ç¨‹æ˜¯éš¾ç‚¹æ‰€åœ¨ï¼Œéœ€è¦å¯¹ä¸‰ç§æƒ…å†µè¿›è¡Œåˆ†æã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">char</span> a[N], b[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s%s&quot;</span>, a+<span class="number">1</span>, b+<span class="number">1</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            f[i][j] = <span class="built_in">max</span>(f[i<span class="number">-1</span>][j], f[i][j<span class="number">-1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (a[i] == b[j]) f[i][j] = <span class="built_in">max</span>(f[i][j], f[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æœ€çŸ­ç¼–è¾‘è·ç¦»-Go"><a href="#æœ€çŸ­ç¼–è¾‘è·ç¦»-Go" class="headerlink" title="æœ€çŸ­ç¼–è¾‘è·ç¦» Go"></a>æœ€çŸ­ç¼–è¾‘è·ç¦» <a href="https://www.acwing.com/problem/content/904/">Go</a></h2><p>æ”¹å˜f[i][j]çš„å†…æ¶µå³å¯ï¼Œå…¶ä½™åŒæœ€é•¿å…¬å…±å­åºåˆ—ï¼Œæ¯ä¸€æ­¥éå†å¢åˆ æ¢ä¸‰ä¸ªæ–¹æ³•ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">char</span> a[N], b[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%s&quot;</span>, &amp;n, a + <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%s&quot;</span>, &amp;m, b + <span class="number">1</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) f[i][<span class="number">0</span>] = i;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) f[<span class="number">0</span>][j] = j;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i<span class="number">-1</span>][j] + <span class="number">1</span>, f[i][j<span class="number">-1</span>] + <span class="number">1</span>);  <span class="comment">// è€ƒè™‘å¢åˆ </span></span><br><span class="line">            <span class="keyword">if</span> (a[i] == b[j]) f[i][j] = <span class="built_in">min</span>(f[i][j], f[i<span class="number">-1</span>][j<span class="number">-1</span>] );  <span class="comment">// è€ƒè™‘æ— éœ€æ“ä½œ</span></span><br><span class="line">            <span class="keyword">else</span> f[i][j] = <span class="built_in">min</span>(f[i][j], f[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span>);  <span class="comment">// è€ƒè™‘æ¢</span></span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç¼–è¾‘è·ç¦»-Go"><a href="#ç¼–è¾‘è·ç¦»-Go" class="headerlink" title="ç¼–è¾‘è·ç¦» Go"></a>ç¼–è¾‘è·ç¦» <a href="https://www.acwing.com/problem/content/901/">Go</a></h2><p>éš¾ç‚¹ä¸»è¦åœ¨äºå†™æ³•ï¼Œå…³é”®ç®—æ³•åŒä¸Šé¢çš„æœ€çŸ­ç¼–è¾‘è·ç¦»ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">char</span> a[N][N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">edit_distance</span><span class="params">(<span class="type">char</span> sa[], <span class="type">char</span> sb[])</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> la = <span class="built_in">strlen</span>(sa + <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> lb = <span class="built_in">strlen</span>(sb + <span class="number">1</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> f[N][N];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= la; i++) f[i][<span class="number">0</span>] = i;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= lb; j++) f[<span class="number">0</span>][j] = j;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= la; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= lb; j++) &#123;</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i<span class="number">-1</span>][j] + <span class="number">1</span>, f[i][j<span class="number">-1</span>] + <span class="number">1</span>);</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i][j], f[i<span class="number">-1</span>][j<span class="number">-1</span>] + (sa[i] != sb[j]));</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> f[la][lb];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, a[i]+<span class="number">1</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        <span class="type">char</span> b[N];</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> limit;</span><br><span class="line">      </span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s%d&quot;</span>, b + <span class="number">1</span>, &amp;limit);</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">edit_distance</span>(a[i], b) &lt;= limit) res++;</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">        cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>acking</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®éå†</title>
    <url>/2024/11/15/acking/SearchGraphic/datatravel/</url>
    <content><![CDATA[<h2 id="1-DFSï¼ˆå¹¿ä¹‰æ·±æœï¼‰"><a href="#1-DFSï¼ˆå¹¿ä¹‰æ·±æœï¼‰" class="headerlink" title="1 DFSï¼ˆå¹¿ä¹‰æ·±æœï¼‰"></a>1 DFSï¼ˆå¹¿ä¹‰æ·±æœï¼‰</h2><h3 id="1-1-æ’åˆ—æ•°æ®"><a href="#1-1-æ’åˆ—æ•°æ®" class="headerlink" title="1.1 æ’åˆ—æ•°æ®"></a>1.1 æ’åˆ—æ•°æ®</h3><p>æ„å»ºé€’å½’ï¼Œå…ˆç¡®å®šç»ˆæ­¢æ¡ä»¶å†è®¾è®¡æ¯ä¸€å±‚éœ€è¦åšçš„äº‹ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">10</span>;</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k &gt; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!st[i])  <span class="comment">// æ³¨æ„ä»¥ä¸‹ä»£ç çš„æ‰§è¡Œæ¡ä»¶</span></span><br><span class="line">        &#123;</span><br><span class="line">            a[k] = i;</span><br><span class="line">            st[i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(k + <span class="number">1</span>);</span><br><span class="line">            st[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-n-çš‡åé—®é¢˜"><a href="#1-2-n-çš‡åé—®é¢˜" class="headerlink" title="1.2 n-çš‡åé—®é¢˜"></a>1.2 n-çš‡åé—®é¢˜</h3><h4 id="1-2-1-ä¸å¸¦å…¥ç»“è®ºç›´æ¥å¯¹æ¯ä¸€ä¸ªä½ç½®çš„å¯èƒ½æ€§è¿›è¡Œæšä¸¾"><a href="#1-2-1-ä¸å¸¦å…¥ç»“è®ºç›´æ¥å¯¹æ¯ä¸€ä¸ªä½ç½®çš„å¯èƒ½æ€§è¿›è¡Œæšä¸¾" class="headerlink" title="1.2.1 ä¸å¸¦å…¥ç»“è®ºç›´æ¥å¯¹æ¯ä¸€ä¸ªä½ç½®çš„å¯èƒ½æ€§è¿›è¡Œæšä¸¾"></a>1.2.1 ä¸å¸¦å…¥ç»“è®ºç›´æ¥å¯¹æ¯ä¸€ä¸ªä½ç½®çš„å¯èƒ½æ€§è¿›è¡Œæšä¸¾</h4><p>æ³¨æ„è¿™é‡Œä»¥ç«–ç›´å‘ä¸‹ä¸ºxæ–¹å‘ï¼Œä»¥æ°´å¹³å‘å³ä¸ºyæ–¹å‘</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">20</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">char</span> g[N][N];</span><br><span class="line"><span class="type">bool</span> row[N], col[N], dg[N], udg[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s &gt; n) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (y == n) y = <span class="number">0</span>, x++;</span><br><span class="line">    <span class="keyword">if</span> (x == n) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s == n) &#123;  <span class="comment">// æ³¨æ„åˆ¤æ–­æ˜¯å¦æ”¾ç½®äº†nä¸ªçš‡åï¼Œå› ä¸ºæœ‰ä¸€äº›æƒ…å†µå¹¶æ²¡æœ‰æ”¾æ»¡nä¸ª</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) <span class="built_in">puts</span>(g[i]);  <span class="comment">// å¯ä»¥é‡‡ç”¨æ­¤ç§ç‰¹æ®Šçš„è¾“å‡ºæ–¹å¼æ˜¯å› ä¸º0ä¸ºä¸²é›†ç»“æŸç¬¦ï¼Œåœ¨å­—ç¬¦åŒºåŸŸä»¥å¤–éƒ½æ˜¯ä¸²é›†ç»“æŸç¬¦ï¼Œè€Œä¸‹é¢çš„æ–¹æ³•åˆ™è¡Œä¸é€š</span></span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// ç®—æ³•å¯¹æ¯ä¸€å±‚éƒ½åº”è¯¥æœ‰æ™®é€‚æ€§ï¼Œæ‰€ä»¥é€‰æ‹©äº†è¿™ç§å†™æ³•</span></span><br><span class="line">    g[x][y] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(x, y + <span class="number">1</span>, s);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (!row[x] &amp;&amp; !col[y] &amp;&amp; !dg[x+y] &amp;&amp; !udg[n + x - y])</span><br><span class="line">        &#123;</span><br><span class="line">            g[x][y] = <span class="string">&#x27;Q&#x27;</span>;</span><br><span class="line">            row[x] = col[y] = dg[x+y] = udg[n + x - y] = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(x, y+<span class="number">1</span>, s+<span class="number">1</span>);</span><br><span class="line">            row[x] = col[y] = dg[x+y] = udg[n + x - y] = <span class="literal">false</span>;</span><br><span class="line">            g[x][y] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="1-2-2-å¸¦å…¥ç»“è®ºï¼ˆæ¯è¡Œåªæœ‰ä¸€ä¸ªçš‡åï¼‰çš„æ–¹æ³•"><a href="#1-2-2-å¸¦å…¥ç»“è®ºï¼ˆæ¯è¡Œåªæœ‰ä¸€ä¸ªçš‡åï¼‰çš„æ–¹æ³•" class="headerlink" title="1.2.2 å¸¦å…¥ç»“è®ºï¼ˆæ¯è¡Œåªæœ‰ä¸€ä¸ªçš‡åï¼‰çš„æ–¹æ³•"></a>1.2.2 å¸¦å…¥ç»“è®ºï¼ˆæ¯è¡Œåªæœ‰ä¸€ä¸ªçš‡åï¼‰çš„æ–¹æ³•</h4><p>æ³¨æ„è¿™é‡Œä»¥ç«–ç›´å‘ä¸‹ä¸ºxæ–¹å‘ï¼Œä»¥æ°´å¹³å‘å³ä¸ºyæ–¹å‘, åœ¨è”ç³»å¯¹è§’çº¿ä½ç½®ä¸åæ ‡ä½ç½®æœ‰é‡è¦ä½œç”¨</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">20</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">char</span> g[N][N];</span><br><span class="line"><span class="type">bool</span> col[N], dg[N], udg[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (u == n) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )  <span class="comment">// æ³¨æ„è¾“å‡ºæ ¼å¼</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j ++ ) cout &lt;&lt; g[i][j];</span><br><span class="line">            cout &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!col[i] &amp;&amp; !dg[u+i] &amp;&amp; !udg[n - u + i])</span><br><span class="line">        &#123;</span><br><span class="line">            g[u][i] = <span class="string">&#x27;Q&#x27;</span>;</span><br><span class="line">            col[i] = dg[u+i] = udg[n - u + i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(u+<span class="number">1</span>);</span><br><span class="line">            col[i] = dg[u+i] = udg[n - u + i] = <span class="literal">false</span>;</span><br><span class="line">            g[u][i] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j ++ )</span><br><span class="line">            g[i][j] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-BFSï¼ˆå¹¿ä¹‰å®½æœï¼‰"><a href="#2-BFSï¼ˆå¹¿ä¹‰å®½æœï¼‰" class="headerlink" title="2 BFSï¼ˆå¹¿ä¹‰å®½æœï¼‰"></a>2 BFSï¼ˆå¹¿ä¹‰å®½æœï¼‰</h2><h3 id="2-1-èµ°è¿·å®«"><a href="#2-1-èµ°è¿·å®«" class="headerlink" title="2.1 èµ°è¿·å®«"></a>2.1 èµ°è¿·å®«</h3><p>è¿™é“é¢˜æ˜¯éå¸¸ç»å…¸çš„ä¸€é“bfsæ¨¡æ¿é¢˜ï¼Œåœ¨å‘¨èµ›é‡Œå‡ºç°äº†å¾ˆå¤šæ¬¡äº†å“‡</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> y second</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> g[N][N], d[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    queue&lt;PII&gt; q;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">memset</span>(d, <span class="number">-1</span>, <span class="keyword">sizeof</span> d);</span><br><span class="line">    d[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(&#123;<span class="number">0</span>, <span class="number">0</span>&#125;);</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;, dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> x = t.x + dx[i], y = t.y + dy[i];</span><br><span class="line">            <span class="keyword">if</span> (x &gt;= <span class="number">0</span> &amp;&amp; x &lt; n &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; m &amp;&amp; g[x][y] == <span class="number">0</span> &amp;&amp; d[x][y] == <span class="number">-1</span>)  <span class="comment">// æ³¨æ„xå’Œyçš„è¾¹ç•Œé™åˆ¶</span></span><br><span class="line">            &#123;</span><br><span class="line">                d[x][y] = d[t.x][t.y] + <span class="number">1</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(&#123;x, y&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> d[n<span class="number">-1</span>][m<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">            cin &gt;&gt; g[i][j];</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; <span class="built_in">bfs</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h2 id="3-æ ‘ä¸å›¾çš„æ·±æœ"><a href="#3-æ ‘ä¸å›¾çš„æ·±æœ" class="headerlink" title="3 æ ‘ä¸å›¾çš„æ·±æœ"></a>3 æ ‘ä¸å›¾çš„æ·±æœ</h2><p>æ€è·¯ï¼š<br> åœ¨æ·±æœåŸºç¡€ä¸Šæ·»åŠ ä¸€äº›å‡½æ•°æ¥å¯¹ä»¥æ¯ä¸ªèŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘è¿›è¡Œåˆ†æã€‚</p>
<p>é‡ç‚¹ï¼š</p>
<ol>
<li>é‚»æ¥è¡¨æ„å»ºå›¾ï¼ˆæ•°ç»„+å•é“¾è¡¨ï¼‰</li>
<li>åŸºäºé‚»æ¥è¡¨çš„æ·±æœå®ç°</li>
<li>å°†é‡å¿ƒçš„å¯»æ‰¾ä¸æ·±æœç»“åˆ</li>
</ol>
<p>ç¬¬äºŒéåšçš„æ—¶å€™å¯¹ç‚¹æ•°ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šï¼Œå®ƒä¸æ˜¯æƒå€¼ï¼Œè¿™é‡Œçš„ç‚¹æ•°æŒ‡çš„æ˜¯èŠ‚ç‚¹æ•°ã€‚åœ¨æœ‰äº†ä»¥ä¸Šçš„è®¤çŸ¥åï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ·±åº¦ä¼˜å…ˆæœç´¢æ—¶å°±å¯ä»¥åšä¸€ä¸ªå‡è®¾ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå‡è®¾æ¥è®¾è®¡é€’å½’å‡½æ•°çš„è¿”å›å€¼ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>, M = N*<span class="number">2</span>;  <span class="comment">// æ¡æ‰‹å®šç†</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> h[N], e[M], ne[M], idx;</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">int</span> ans = N;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>  <span class="comment">// å›¾çš„æ ‡å‡†åˆå§‹åŒ–å·¥å…·</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = b;</span><br><span class="line">    ne[idx] = h[a];</span><br><span class="line">    h[a] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    st[u] = <span class="literal">true</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> size = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[u]; i != <span class="number">-1</span>; i = ne[i])  <span class="comment">// æ·±æœæ‰€æœ‰ç‚¹ï¼Œæ¢ç©¶æ‹¿æ‰ç‚¹åçš„æƒ…å†µï¼Œæœ¬é¢˜çš„å…³é”®ä¹Ÿåœ¨äºæ­¤ã€‚</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j = e[i];</span><br><span class="line">        <span class="keyword">if</span> (!st[j])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> s = <span class="built_in">dfs</span>(j);  <span class="comment">// è·å¾—å­æ ‘çš„ä¸åŒ…å«æ ¹çš„èŠ‚ç‚¹æ•°</span></span><br><span class="line">            size = <span class="built_in">max</span>(size, s);  <span class="comment">// æ±‚é˜¶æ•°æœ€å¤§çš„å­æ ‘</span></span><br><span class="line">            sum += s;  <span class="comment">// é™¤å»èŠ‚ç‚¹uæ‰€æœ‰å­æ ‘ä¹‹å¤–çš„éƒ¨åˆ†èŠ‚ç‚¹æ ‘ï¼Œç”¨å›¾ç¤ºç†è§£å¯èƒ½æ›´æ¸…æ™°</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    size = <span class="built_in">max</span>(size, n - sum - <span class="number">1</span>);</span><br><span class="line">    ans = <span class="built_in">min</span>(ans, size); </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> sum + <span class="number">1</span>;  <span class="comment">// æ³¨æ„è¿”å›å€¼çš„é€‰æ‹©ï¼Œå®ƒä¸æ¯ä¸€å±‚çš„å›æº¯ç›¸å…³</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);  <span class="comment">// åˆå§‹åŒ–èŠ‚ç‚¹é“¾è¡¨ï¼Œä¸€å®šåœ¨åˆå§‹åŒ–è¾¹ä¹‹å‰</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a, b;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">        <span class="built_in">add</span>(a, b), <span class="built_in">add</span>(b, a);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>);  <span class="comment">// åˆ«å¿˜è®°éå†</span></span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-æ ‘ä¸å›¾çš„å¹¿æœ"><a href="#4-æ ‘ä¸å›¾çš„å¹¿æœ" class="headerlink" title="4 æ ‘ä¸å›¾çš„å¹¿æœ"></a>4 æ ‘ä¸å›¾çš„å¹¿æœ</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>, M = N*<span class="number">2</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> h[N], e[M], ne[M], idx;  <span class="comment">// æ³¨æ„hã€neã€idxä¸­å’Œeçš„ä¸‹æ ‡ä¸­å­˜çš„éƒ½æ˜¯ä½ç½®å€¼ï¼Œè€Œhçš„ä¸‹æ ‡ã€eä¸­å­˜çš„æ˜¯å®å€¼</span></span><br><span class="line"><span class="type">int</span> d[N], q[M];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = b, ne[idx] = h[a], h[a] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line">    <span class="built_in">memset</span>(d, <span class="number">-1</span>, <span class="keyword">sizeof</span> d);</span><br><span class="line">  </span><br><span class="line">    d[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    q[++tt] = <span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (hh &lt;= tt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = q[hh++];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])  <span class="comment">// ç”±äºæ˜¯å±‚åºéå†ï¼Œæ‰€ä»¥æ‰¾åˆ°çš„ä¸€å®šæ˜¯æœ€çŸ­è·¯å¾„ï¼Œè¶Šæ—©éå†åˆ°çš„è·¯å¾„è¶ŠçŸ­</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (d[j] == <span class="number">-1</span>) &#123;</span><br><span class="line">                d[j] = d[t] + <span class="number">1</span>;  <span class="comment">// æ³¨æ„ä½ç½®ä¸å®å€¼é—´çš„å·®å¼‚, åŒæ—¶å…³æ³¨è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§</span></span><br><span class="line">                q[++tt] = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> d[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    <span class="keyword">while</span> (m -- ) &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="built_in">add</span>(a, b);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; <span class="built_in">bfs</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-æ‹“æ‰‘åºåˆ—"><a href="#5-æ‹“æ‰‘åºåˆ—" class="headerlink" title="5 æ‹“æ‰‘åºåˆ—"></a>5 æ‹“æ‰‘åºåˆ—</h2><p>æ€è·¯ï¼šè€ƒè™‘å„ç‚¹çš„å…¥åº¦ï¼Œä¸€ä¸ªåˆç†æ‹“æ‰‘åºåˆ—ä¸€å®šæ˜¯ä»0åº¦ç‚¹å‡ºå‘çš„ï¼›ç¡®å®šå¥½èµ·ç‚¹åå¯ä»¥é€‰æ‹©ä¸€ç§åˆé€‚çš„éå†æ–¹å¼ï¼Œé€šå¸¸æ¥è®²åº”è¯¥é€‰æ‹©å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œåº¦å…ˆé™ä¸º0çš„ç‚¹åº”è¯¥åœ¨å‰é¢ã€‚</p>
<p>é‡ç‚¹ï¼šä¼šå®ç°é™æ€é˜Ÿåˆ—ï¼Œè¿™é‡Œéœ€è¦å°†é˜Ÿåˆ—ä¿¡æ¯å±•ç¤ºå‡ºæ¥ï¼Œæ‰€ä»¥æ²¡æœ‰é€‰æ‹©ç”¨å¤´æ–‡ä»¶å®ç°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>, M = N*<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> h[N], e[M], ne[M], idx;</span><br><span class="line"><span class="type">int</span> d[N], q[N];  <span class="comment">// d[N] å…·æœ‰åˆ¤é‡æ•°ç»„çš„ä½œç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = b, ne[idx] = h[a], h[a] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">torbsort</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!d[i]) q[++tt] = i;  <span class="comment">// ä»0å…¥åº¦ç‚¹åˆ‡å…¥</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (hh &lt;= tt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = q[hh++];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (--d[j] == <span class="number">0</span>) q[++tt] = j;  <span class="comment">// å¦‚æœæŒ‡å‘çš„ç‚¹å…¥è¯»ä¸º1ï¼Œé‚£ä¹ˆç›´æ¥å…¥é˜Ÿï¼Œå¦‚æœä¸ä¸º1ï¼Œè¯´æ˜è¿˜æœ‰å…¶å®ƒç‚¹æŒ‡å‘ç‚¹jï¼Œä¸”è¿™ä¸€ç‚¹ï¼ˆè®°ä¸ºkï¼‰ä¸€å®šä¸æŒ‡å‘ç‚¹tï¼Œç”±äºæ˜¯æŒ‰åºå½•å…¥åˆ‡å…¥ç‚¹çš„ï¼Œæ‰€ä»¥ç‚¹kä¸€å®šåœ¨tç‚¹ä¹‹å,ç‚¹jå…ˆä¸å…¥é˜Ÿ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> tt == n - <span class="number">1</span>;  <span class="comment">// è‹¥æ»¡è¶³æ‹“æ‰‘åºåˆ—ï¼Œé‚£ä¹ˆé˜Ÿåˆ—é‡Œåº”è¯¥åŒ…å«äº†æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);  <span class="comment">// ç‰¹åˆ«æ³¨æ„hæ•°ç»„çš„åˆå§‹åŒ–ï¼Œä»¥åŠdæ•°ç»„çš„å¤šå«ä¹‰ï¼Œè¦ä¸è¦åˆå§‹åŒ–</span></span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    <span class="keyword">while</span> (m--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="built_in">add</span>(a, b);</span><br><span class="line">        d[b]++;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">torbsort</span>()) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            cout &lt;&lt; q[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>acking</category>
      </categories>
      <tags>
        <tag>Search</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€çŸ­è·¯</title>
    <url>/2024/11/15/acking/SearchGraphic/minroute/</url>
    <content><![CDATA[<h2 id="1-dijkstra"><a href="#1-dijkstra" class="headerlink" title="1 dijkstra"></a>1 dijkstra</h2><blockquote>
<p>é€‚äºè§£å†³å•æºæ±‡ç±»å‹çš„æœ€çŸ­è·¯é—®é¢˜</p>
</blockquote>
<h3 id="1-1-åŸºäºé‚»æ¥çŸ©é˜µå®ç°"><a href="#1-1-åŸºäºé‚»æ¥çŸ©é˜µå®ç°" class="headerlink" title="1.1 åŸºäºé‚»æ¥çŸ©é˜µå®ç°"></a>1.1 åŸºäºé‚»æ¥çŸ©é˜µå®ç°</h3><p>æ€è·¯ï¼šä»èµ·ç‚¹å‡ºå‘ï¼Œä¸æ–­å¯»æ‰¾èµ·ç‚¹è·ç¦»æœ€è¿‘çš„ç‚¹ï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªæœ€çŸ­è·¯å¾„å°±åŠ å…¥ç¡®å®šé›†ï¼Œæ‰©æ•£è¯¥ç‚¹çš„å½±å“ã€‚</p>
<p>ps: æ­¥æ­¥å”¯ä¸€æ‰èƒ½å®ç°æœ€ç»ˆç¨‹åºï¼Œå› æ­¤æ‰¾åˆ°è¿­ä»£æ–¹æ³•æ˜¯å…³é”®ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">510</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> g[N][N];  <span class="comment">// é‡‡ç”¨é‚»æ¥çŸ©é˜µè¿›è¡Œå›¾çš„å­˜å‚¨</span></span><br><span class="line"><span class="type">int</span> dist[N];  <span class="comment">// æŸç‚¹åˆ°å‡ºå‘ç‚¹æœ€çŸ­è·¯</span></span><br><span class="line"><span class="type">bool</span> st[N];  <span class="comment">// åˆ¤æ–­æ˜¯å¦æ‰¾åˆ°äº†æœ€çŸ­è·¯</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);  <span class="comment">// æ³¨æ„memsetçš„å†™æ³•ï¼Œå¹³å¸¸åªèƒ½å¡«å……0x3fã€0å’Œ-1ï¼Œå¡«å……å…¶å®ƒä¼šæœ‰å¼‚å¸¸</span></span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++)  <span class="comment">// æ³¨æ„è¿™é‡Œæ˜¯n-1æ¬¡éå†ï¼Œå› ä¸ºå¤æ‚å›¾å·²ç»å˜æˆäº†ç®€å•å›¾,ç„¶åæ’æ‰äº†1å·ç‚¹ï¼Œæœ€å¤šå¯ä»¥ç¡®å®šn-1ä¸ªç‚¹çš„æœ€çŸ­è·¯ï¼› </span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)  <span class="comment">// æ‰¾åˆ°æœªç¡®å®šæœ€çŸ­è·¯çš„ç¬¬ä¸€ä¸ªç‚¹ï¼Œå¹¶ç¡®å®šå®ƒ</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!st[j] &amp;&amp; (t == <span class="number">-1</span> || dist[t] &gt; dist[j])) t = j;  <span class="comment">// å¯»æ‰¾ä¸å½“å‰ç¡®å®šé›†è·ç¦»æœ€è¿‘çš„ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line">   </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)  <span class="comment">// æ ¹æ®ä¸Šè¿°éå†ç¡®å®šçš„æœ€çŸ­è·¯å¯¹ä¹‹åçš„æ‰€æœ‰ç‚¹åšè°ƒæ•´ã€‚</span></span><br><span class="line">        &#123;</span><br><span class="line">            dist[j] = <span class="built_in">min</span>(dist[j], dist[t] + g[t][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (dist[n] == <span class="number">0x3f3f3f3f</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> dist[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="built_in">memset</span>(g, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> g);  <span class="comment">// ä¸ºä¹‹ååšé‡è¾¹ç­›æŸ¥æ‰“ä¸‹åŸºç¡€</span></span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> a, b, c;</span><br><span class="line">    <span class="keyword">while</span> (m--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">        g[a][b] = <span class="built_in">min</span>(g[a][b], c);   <span class="comment">// æ³¨æ„è¿™é‡Œéœ€è¦å¯¹é‡è¾¹åšå¤„ç†ï¼ŒæŒ‘å‡ºä¸¤ç‚¹é—´æœ€çŸ­çš„é‚£æ¡è¾¹å°±è¡Œï¼›åŒæ—¶ï¼Œåœ¨æœ¬é¢˜ä¸­ç¯å·²æ³›åŒ–ï¼Œå› æ­¤æ— éœ€ç‰¹åˆ¤</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> t = <span class="built_in">dijkstra</span>();</span><br><span class="line">    cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-åŸºäºé‚»æ¥è¡¨å®ç°"><a href="#1-2-åŸºäºé‚»æ¥è¡¨å®ç°" class="headerlink" title="1.2 åŸºäºé‚»æ¥è¡¨å®ç°"></a>1.2 åŸºäºé‚»æ¥è¡¨å®ç°</h3><p>æ€è·¯ï¼šä¸1å­˜åœ¨å·®åˆ«ï¼Œè¿™é‡Œæ˜¯ç¨€ç–å›¾ï¼Œæ‰€ä»¥å¸¸ç”¨é‚»æ¥è¡¨ï¼ˆå½“ç„¶é‚»æ¥çŸ©é˜µä¹Ÿå¯ä»¥åšdogeï¼‰ï¼Œç”¨é‚»æ¥è¡¨å­˜å‚¨æ—¶ï¼Œä¸€ä¸ªæ¯”è¾ƒå¤§çš„é—®é¢˜å°±æ˜¯é¢„å¤„ç†é‡è¾¹å’Œè‡ªç¯çš„ç®—æ³•ä¼šéå¸¸å¤æ‚ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥å¯¹å¤æ‚å›¾è¿›è¡Œè®°å½•å¹¶å¤„ç†ã€‚ä½†æ˜¯ï¼Œç®—æ³•çš„æ€è·¯è¿˜æ˜¯ä¸å˜çš„ï¼Œä»èµ·ç‚¹å‡ºå‘ï¼Œä¸æ–­å¯»æ‰¾åˆ°èµ·ç‚¹çš„æœ€çŸ­è¾¹ï¼ˆè¿™é‡Œé‡‡ç”¨äº†æœ€å°å †ç®€åŒ–è¿‡ç¨‹ï¼‰ï¼Œç”±äºè¾¹éƒ½æ˜¯éè´Ÿçš„ï¼Œå› æ­¤å°±ç®—éœ€è¦è€ƒè™‘ä¹Ÿä¸ä¼šå¯¹ç»“æœäº§ç”Ÿå½±å“ï¼Œè¿™ä¸ªæœ€çŸ­è¾¹çš„å¦ä¸€ç«¯å°±æ˜¯ç¡®å®šäº†æœ€çŸ­è·¯ï¼ˆè·ç¦»å·²ç»æœ€æ–°æœ€å°ï¼‰çš„ç«¯ç‚¹ã€‚æ¯ç¡®å®šä¸€æ¬¡ï¼Œéƒ½å¯¹å›¾ä¸­å„ç‚¹åˆ°èµ·ç‚¹çš„è·ç¦»éƒ½åšä¸€æ¬¡æ›´æ–°ï¼Œæ¯ä¸€ä¸ªæœ€æ–°çš„ç‚¹ä¸å…¶è·ç¦»æ„æˆçš„ç‚¹å¯¹éƒ½åŠ å…¥åˆ°æœ€å°å †ã€‚</p>
<p>é‡ç‚¹ï¼š</p>
<ol>
<li>æœ€å°å †çš„æ„å»º</li>
<li>æ¯æ¬¡åŠ å…¥æœ€å°å †çš„æ—¶æœº</li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> y second</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">200010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> h[N], e[N], ne[N], idx, w[N];</span><br><span class="line"><span class="type">int</span> dist[N];  <span class="comment">// åˆ°1ä½ç½®æœ€çŸ­è·ç¦»</span></span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx++;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> å¯¹é‚»æ¥è¡¨çš„ç†è§£è¶Šæ¥è¶Šæ·±äº†ï¼Œidxè¡¨ç¤ºçš„æ˜¯æ¯æ¡è¾¹çš„ä½ç½®ï¼ˆçº¿æ€§ï¼‰ï¼Œeæ•°ç»„å­˜å‚¨æ¯æ¡è¾¹çš„ç»ˆç‚¹å®å€¼</span></span><br><span class="line"><span class="comment"> wæ•°ç»„å­˜å‚¨æ¯æ¡è¾¹çš„æƒå€¼ï¼Œhæ•°ç»„å­˜å‚¨ä»¥aä¸ºå§‹ç‚¹çš„ç¬¬ä¸€æ¡è¾¹çš„ä½ç½®</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; q;  <span class="comment">// ä¼˜å…ˆé˜Ÿåˆ—çš„ç‰¹æ®Šæ ¼å¼</span></span><br><span class="line">    q.<span class="built_in">push</span>(&#123;<span class="number">0</span>, <span class="number">1</span>&#125;);  <span class="comment">// è·ç¦»ä¼˜å…ˆï¼Œæ•°å¯¹æ¯”è¾ƒå…ˆæ¯”xå†æ¯”y</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>())  <span class="comment">// ä¸BFSç±»ä¼¼çš„è¿‡ç¨‹</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> t = q.<span class="built_in">top</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        åœ¨å°†ç‚¹æ¨å…¥é˜Ÿåˆ—æ—¶ä¼˜å…ˆé˜Ÿåˆ—ä¼šå¯¹æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯å€¼è¿›è¡Œæ’åºï¼Œæ‰€ä»¥æ¯æ¬¡ä»é˜Ÿåˆ—ä¸­æå–çš„ç‚¹éƒ½æ˜¯ç¡®å®šæ‰¾åˆ°æœ€çŸ­è·¯ä¸”</span></span><br><span class="line"><span class="comment">        æœ€çŸ­è·¯ä¸­è·ç¦»æœ€å°çš„ç‚¹</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="type">int</span> distance = t.x, ver = t.y;</span><br><span class="line">        <span class="keyword">if</span> (st[ver]) <span class="keyword">continue</span>;  <span class="comment">// æ³¨æ„è¿™é‡Œè¦è¿›è¡Œåˆ¤é‡ï¼Œå¦åˆ™ä¼šå› ä¸ºé‡è¾¹å¯¼è‡´é‡å¤æ›´æ–°</span></span><br><span class="line">        st[ver] = <span class="literal">true</span>;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[ver]; i != <span class="number">-1</span>; i = ne[i])  <span class="comment">// ä¸ç‚¹1åªæœ‰1æ¡è¾¹ç›¸è¿çš„æ‰€æœ‰ç‚¹çš„æœ€å¤§è·ç¦»å¿…å®šæ¯”å…¶å®ƒç‚¹åˆ°ç‚¹1çš„è·ç¦»è¦å°</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (dist[j] &gt; dist[ver] + w[i])</span><br><span class="line">            &#123;</span><br><span class="line">                dist[j] = dist[ver] + w[i];</span><br><span class="line">                q.<span class="built_in">push</span>(&#123;dist[j], j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">      </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (dist[n] == <span class="number">0x3f3f3f3f</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> dist[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> a, b, c;</span><br><span class="line">    <span class="keyword">while</span> (m -- )</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">        <span class="built_in">add</span>(a, b, c);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> t = <span class="built_in">dijkstra</span>();</span><br><span class="line">    cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-bellman-ford"><a href="#2-bellman-ford" class="headerlink" title="2 bellman-ford"></a>2 bellman-ford</h2><blockquote>
<p>é€‚äºè§£å†³æœ‰è¾¹é™åˆ¶çš„æœ€çŸ­è·¯é—®é¢˜ï¼Œå¸¸å¸¸ä½“ç°åœ¨æœ‰è´Ÿè¾¹æƒã€æœ‰è·¯å¾„é•¿åº¦ä¸Šé™ã€‚</p>
</blockquote>
<p>æ€è·¯ï¼šåŸºäºç¨ å¯†å›¾ï¼Œåˆ©ç”¨ç»™å®šçš„è¾¹åå¤å¯¹å„ç‚¹åˆ°åˆç‚¹çš„è·¯å¾„é•¿åº¦è¿›è¡Œæ›´æ–°ï¼Œç›¸å¯¹ç®€å•ä½†æ—¶é—´å¤æ‚åº¦é«˜ã€‚</p>
<p>é‡ç‚¹ï¼š</p>
<ol>
<li>æ„é€ è¾¹ç»“æ„ä½“ï¼Œå¯¹å„è¾¹è¿›è¡Œéå†</li>
<li>æ¯æ¬¡æ›´æ–°éƒ½åº”åŸºäºå·²çŸ¥è¾¹ï¼Œæ‰€ä»¥è¦ç”¨åˆ°memcpyæ•°ç»„è¿›è¡Œç»´æŠ¤ã€‚</li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">10010</span>, M = <span class="number">510</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, k;</span><br><span class="line"><span class="type">int</span> dist[M];</span><br><span class="line"><span class="type">int</span> backup[M];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">e</span>  <span class="comment">// bellman_fordç®—æ³•ä»…ä»…é’ˆå¯¹æ‰€æœ‰è¾¹ï¼Œå¯¹å›¾çš„è¿æ¥æ€§æ²¡æœ‰è¦æ±‚ï¼Œæ‰€ä»¥ç›´æ¥è®°å½•è¾¹çš„ä¿¡æ¯å³å¯</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a, b, w;</span><br><span class="line">&#125;edge[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bellman_ford</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;  <span class="comment">// æ³¨æ„å°†èµ·ç‚¹è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; i++)  <span class="comment">// è¿›è¡Œkæ¬¡æ›´æ–°</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memcpy</span>(backup, dist, <span class="keyword">sizeof</span> dist);  <span class="comment">// æ³¨æ„æ‹·è´åŸæ•°ç»„ï¼Œé˜²æ­¢åç»­åœ¨éå†æ‰€æœ‰è¾¹æ—¶åé¢çš„è¾¹ä¼šå—å‰é¢çš„è¾¹å½±å“ï¼Œè¿™é‡Œéœ€è¦ç”¨ä¾‹å­æ¥æ¨¡æ‹Ÿç†è§£</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j++)  <span class="comment">// æ˜ç¡®éå†å¯¹è±¡,æ³¨æ„è¾¹ç•Œ</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> a = edge[j].a, b = edge[j].b, w = edge[j].w;</span><br><span class="line">            <span class="keyword">if</span> (dist[b] &gt; backup[a] + w)</span><br><span class="line">                dist[b] = backup[a] + w;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">    <span class="type">int</span> a, b, w;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; w;</span><br><span class="line">        edge[i] = &#123;a, b, w&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">bellman_ford</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (dist[n] &gt; <span class="number">0x3f3f3f3f</span>/<span class="number">2</span>) cout &lt;&lt; <span class="string">&quot;impossible&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; dist[n] &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-spfa"><a href="#3-spfa" class="headerlink" title="3 spfa"></a>3 spfa</h2><h3 id="3-1-æ±‚æœ€çŸ­è·¯"><a href="#3-1-æ±‚æœ€çŸ­è·¯" class="headerlink" title="3.1 æ±‚æœ€çŸ­è·¯"></a>3.1 æ±‚æœ€çŸ­è·¯</h3><p>psï¼šåœ¨è´Ÿæƒè‡ªç¯è¿™é‡Œå›°æƒ‘äº†å¾ˆä¹…ï¼Œå› ä¸ºæ²¡æœ‰è´Ÿæƒå›è·¯æ‰€ä»¥æ²¡æœ‰è´Ÿæƒè‡ªç¯ï¼Œä»è€Œspfaç®—æ³•è¿‡ç¨‹ä¸­å¹¶ä¸ä¼šå‡ºç°æ­»å¾ªç¯ã€‚ã€‚ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> h[N], e[N], ne[N], w[N], idx;</span><br><span class="line"><span class="type">int</span> dist[N];</span><br><span class="line"><span class="type">bool</span> st[N];  <span class="comment">// å…³é”®åœ¨äºstæ•°ç»„çš„ä½¿ç”¨ï¼Œdijkstraåœ¨ç¡®å®šæŸç‚¹æœ€çŸ­è·ç¦»åå°±æ›´æ–°ï¼Œè€Œæœ¬é¢˜ç”±äºæœ‰è´Ÿè¾¹ï¼Œæ‰€ä»¥stä»…ä»…å­˜æ”¾å¯ä»¥æ›´æ–°åæ’çš„ç‚¹ï¼Œåœ¨æ›´æ–°å®Œåå°±è¦æ‹¿å‡ºï¼Œå› ä¸ºä¸ç¡®å®šè¯¥ç‚¹åˆ°å§‹ç‚¹çš„è·ç¦»æ˜¯å¦å·²ç»ä¸ºæœ€çŸ­è·ç¦»</span></span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = b, ne[idx] = h[a], w[idx] = v, h[a] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">spfa</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line">    q[++tt] = <span class="number">1</span>;</span><br><span class="line">    st[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (hh &lt;= tt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = q[hh++];</span><br><span class="line">        st[t] = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])  <span class="comment">// åœ¨bellman_fordç®—æ³•çš„åŸºç¡€ä¸Šè€ƒè™‘æ¯ä¸€æ¬¡æ‰€é€‰çš„è¾¹éƒ½èƒ½å¤Ÿå¾—åˆ°æ›´æ–°ï¼Œæ‰€ä»¥é‡‡ç”¨å®½æœ</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (dist[j] &gt; dist[t] + w[i])  <span class="comment">// ä»…å°†å¯æ›´æ–°çš„ç‚¹è¿›è¡Œæ›´æ–°ï¼Œå¹¶å…¥é˜Ÿæ›´æ–°çš„ä¹‹åçš„æ‰€æœ‰ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯å¾ªç¯ç»ˆæ­¢çš„é‡è¦æ¡ä»¶ï¼Œå¦åˆ™ä¼šå‡ºç°æ­»å¾ªç¯ã€‚</span></span><br><span class="line">            &#123;</span><br><span class="line">                dist[j] = dist[t] + w[i];</span><br><span class="line">                <span class="keyword">if</span> (!st[j]) &#123;</span><br><span class="line">                    q[++tt] = j;</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> dist[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="type">int</span> a, b, v;</span><br><span class="line">    <span class="keyword">while</span> (m--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; v;</span><br><span class="line">        <span class="built_in">add</span>(a, b, v);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> t = <span class="built_in">spfa</span>();</span><br><span class="line">    <span class="keyword">if</span> (t == <span class="number">0x3f3f3f3f</span>) cout &lt;&lt; <span class="string">&quot;impossible&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-2-åˆ¤æ–­è´Ÿç¯"><a href="#3-2-åˆ¤æ–­è´Ÿç¯" class="headerlink" title="3.2 åˆ¤æ–­è´Ÿç¯"></a>3.2 åˆ¤æ–­è´Ÿç¯</h3><p>æ€è·¯ï¼šåŸºäºspfaæ¨¡æ¿ï¼Œæ¯ä¸ªç‚¹éƒ½å¯ä»¥æ˜¯èµ·ç‚¹ï¼Œç”±äºæ›´æ–°çš„ä¸ç›´æ¥æ€§ï¼Œéœ€è¦ç”¨é˜Ÿåˆ—æ¥å­˜æ”¾å¯ä»¥ç”¨æ¥æ›´æ–°çš„èŠ‚ç‚¹ã€‚</p>
<p>é‡ç‚¹ï¼šå¦‚ä½•åˆ¤æ–­æ˜¯å¦å­˜åœ¨è´Ÿç¯ï¼Œè‹¥æŸä¸ªç»“ç‚¹çš„æ›´æ–°æ¬¡æ•°è¶…è¿‡ç»“ç‚¹æ•°ï¼Œé‚£ä¹ˆå°±å­˜åœ¨è´Ÿç¯äº†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">10010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> h[N], e[N], ne[N], w[N], idx;</span><br><span class="line"><span class="type">int</span> dist[N], cnt[N], st[N];  <span class="comment">// æ³¨æ„è¿™é‡Œdiståˆå§‹åŒ–ä¸º0ï¼Œå…¶å†…æ¶µä¸æ±‚æœ€çŸ­è·¯ä¸åŒã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = b, ne[idx] = h[a], w[idx] = v, h[a] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">spfa</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )  <span class="comment">// ä»1å‡ºå‘ä¸ä¸€å®šä¼šç»å†åˆ°è´Ÿæƒè¾¹ï¼Œæ‰€ä»¥å°†æ‰€æœ‰èŠ‚ç‚¹æ”¾å…¥é˜Ÿåˆ—ï¼Œè¿™æ ·å°±å¯ä»¥éå†æ‰€æœ‰ç‚¹é™„è¿‘çš„è¾¹ï¼Œä¹Ÿå°±æ˜¯å›¾çš„æ‰€æœ‰è¾¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        st[i] = <span class="literal">true</span>;</span><br><span class="line">        q.<span class="built_in">push</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        st[t] = <span class="literal">false</span>;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (dist[j] &gt; dist[t] + w[i])  <span class="comment">// å½“åˆ°å­èŠ‚ç‚¹çš„è¾¹æƒä¸ºè´Ÿæ—¶æ‰æœ‰æ›´æ–°ï¼Œè¿™ä¸ªæ—¶å€™ä¹Ÿæœ‰å‰ªæçš„æ•ˆæœ</span></span><br><span class="line">            &#123;  </span><br><span class="line">                dist[j] = dist[t] + w[i];</span><br><span class="line">                cnt[j] = cnt[t] + <span class="number">1</span>;  <span class="comment">// ç»Ÿè®¡æ¯ä¸ªç‚¹çš„æ›´æ–°æ¬¡æ•°ï¼Œå¦‚æœåˆ°äº†æŸç§ç¨‹åº¦ï¼Œåˆ™è¯´æ˜è¯¥ç‚¹è¢«è¿‡åº¦ä¼˜åŒ–äº†ï¼Œé‚£ä¹ˆå®ƒä¸€å®šåœ¨ä¸€ä¸ªè´Ÿç¯ä¸Šã€‚</span></span><br><span class="line">                <span class="keyword">if</span> (cnt[j] &gt;= n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">          </span><br><span class="line">                <span class="keyword">if</span> (!st[j]) &#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(j);</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">      </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> a, b, v;</span><br><span class="line">    <span class="keyword">while</span> (m -- ) &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; v;</span><br><span class="line">        <span class="built_in">add</span>(a, b, v);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">spfa</span>()) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-Floyd"><a href="#4-Floyd" class="headerlink" title="4 Floyd"></a>4 Floyd</h2><blockquote>
<p>æ›´æš´åŠ›çš„è§£æ³•</p>
</blockquote>
<p>æ€è·¯ï¼šåŸºäºé‚»æ¥çŸ©é˜µï¼Œç”¨å…¶ä¸­çš„å…ƒç´ è¡¨ç¤ºä¸¤ç‚¹é—´çš„åˆå§‹è·ç¦»ï¼Œå½“ç„¶åˆå§‹çŠ¶æ€è¿™ä¸ªè·ç¦»å°±æ˜¯ä¸¤ç‚¹ä¹‹é—´çš„è¾¹é•¿ï¼Œåé¢é€‰æ‹©æšä¸¾ä¸¤ç‚¹é—´æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ç»„åˆï¼Œå¯¹ä»»æ„ä¸¤ç‚¹é—´æœ€çŸ­è·¯è¿›è¡Œåˆ¤æ–­ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">210</span>, INF = <span class="number">1e9</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, k;</span><br><span class="line"><span class="type">int</span> g[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Floyd</span><span class="params">()</span>  <span class="comment">// æšä¸¾ä¸¤ç‚¹é—´æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ç»„åˆ</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= n; k++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">                g[i][j] = <span class="built_in">min</span>(g[i][j], g[i][k] + g[k][j]);  <span class="comment">// æ³¨æ„ä¸‰é‡å¾ªç¯çš„é¡ºåºä¸èƒ½æ”¹å˜ï¼Œä¼šæœ‰å°é”™è¯¯ã€‚</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == j) g[i][j] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> g[i][j] = INF;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> a, b, w;</span><br><span class="line">    <span class="keyword">while</span> (m -- )&#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; w;</span><br><span class="line">        g[a][b] = <span class="built_in">min</span>(g[a][b], w);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">Floyd</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    <span class="keyword">while</span> (k--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        <span class="keyword">if</span> (g[x][y] &gt; INF/<span class="number">2</span>) cout &lt;&lt; <span class="string">&quot;impossible&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; g[x][y] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>acking</category>
      </categories>
      <tags>
        <tag>Search</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€å°ç”Ÿæˆæ ‘</title>
    <url>/2024/11/15/acking/SearchGraphic/mintree/</url>
    <content><![CDATA[<h2 id="1-Prim"><a href="#1-Prim" class="headerlink" title="1 Prim"></a>1 Prim</h2><p>æ€è·¯ï¼šä»ä»»æ„ä¸€ç‚¹åˆå§‹åŒ–ç”Ÿæˆæ ‘é›†åˆï¼Œä¹‹åä¸æ–­å°†åˆ°é›†åˆæœ€çŸ­è·ç¦»çš„ç‚¹åŠ å…¥é›†åˆï¼Œè¡¨ç¤ºç¡®å®šè¯¥ç‚¹ã€‚ç„¶ååˆ©ç”¨è¯¥ç‚¹æ›´æ–°ä¸ä¹‹è”ç³»çš„å„ç‚¹åˆ°é›†åˆçš„è·ç¦»ã€‚</p>
<p>æ‰¾æœ€çŸ­è¾¹ï¼Œå åŠ è¾¹æƒã€ç«¯ç‚¹å…¥é›†ã€æ›´æ–°ã€‚</p>
<p>æ³¨ï¼šè¿™é‡Œçš„distè¡¨ç¤ºåˆ°ç”Ÿæˆæ ‘é›†åˆçš„è·ç¦»ï¼›INFå’Œdistçš„åˆå§‹åŒ–å€¼è¦åŒæ­¥ï¼›æœ€å°ç”Ÿæˆæ ‘ä¸­ä¸å«è‡ªç¯å’Œé‡è¾¹ã€‚</p>
<p>ä»ç‚¹çš„è§’åº¦è€ƒè™‘æœ€å°ç”Ÿæˆæ ‘</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">510</span>, INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="type">int</span> g[N][N];</span><br><span class="line"><span class="type">int</span> dist[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">prim</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> dist);</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;  <span class="comment">// æ¯æ¬¡ç¡®å®šä¸€ä¸ªç‚¹</span></span><br><span class="line">        <span class="type">int</span> t = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!st[j] &amp;&amp; (t == <span class="number">-1</span> || dist[t] &gt; dist[j])) t = j;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (dist[t] == INF) <span class="keyword">return</span> INF;  <span class="comment">// æ²¡æŠŠç”Ÿæˆæ ‘æ›´æ–°å®Œä¸”è¿™ä¸ªæ—¶å€™åˆ°é›†åˆæœ€çŸ­è·ç¦»å·²ç»æ˜¯INF,åˆ™è¯´æ˜ä¸å­˜åœ¨æœ€å°ç”Ÿæˆæ ‘</span></span><br><span class="line">        res += dist[t];</span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            dist[j] = <span class="built_in">min</span>(dist[j], g[t][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="built_in">memset</span>(g, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> g);</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> u, v, w;</span><br><span class="line">    <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">        cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br><span class="line">        g[v][u] = g[u][v] = <span class="built_in">min</span>(g[u][v], w);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> t = <span class="built_in">prim</span>();</span><br><span class="line">    <span class="keyword">if</span> (t == INF) cout &lt;&lt; <span class="string">&quot;impossible&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Kruskal"><a href="#2-Kruskal" class="headerlink" title="2 Kruskal"></a>2 Kruskal</h2><p>æ€è·¯ï¼šç›´æ¥å¯¹æ‰€æœ‰è¾¹è¿›è¡Œè€ƒè™‘ï¼Œå°†å›¾ä¸­æ‰€æœ‰è¾¹æŒ‰æƒå€¼ä»å°åˆ°å¤§æ’åˆ—ï¼Œç„¶åé€ä¸ªéå†ï¼Œå°†ç«¯ç‚¹æ”¾å…¥ç”Ÿæˆæ ‘é›†åˆï¼ˆåˆ©ç”¨å¹¶æŸ¥é›†ï¼‰ï¼Œæœ€ç»ˆé›†åˆä¸­åº”è¯¥æœ‰nä¸ªç»“ç‚¹ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>, M = <span class="number">200010</span>;  <span class="comment">// Nè®°å½•ç‚¹æ•°ï¼ŒMè®°å½•è¾¹æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> p[N];  <span class="comment">// å¹¶æŸ¥é›†çš„åŸºæœ¬å­˜å‚¨ç»“æ„</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">e</span>  <span class="comment">// ç›´æ¥è€ƒè™‘è¾¹ï¼Œä¸bellman_fordç®—æ³•ç±»ä¼¼ï¼Œæ„é€ ç»“æ„ä½“å³å¯</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a, b, w;</span><br><span class="line">  </span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> e&amp; W) <span class="type">const</span>  <span class="comment">// é‡è½½å°äºå·ï¼Œä»¥ä¾¿åç»­æ’åºå·¥ä½œ</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &lt; W.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;edge[M];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span>  <span class="comment">// å¹¶æŸ¥é›†æŸ¥æ‰¾ç®—æ³•</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p[x] != x) p[x] = <span class="built_in">find</span>(p[x]);  <span class="comment">// å…·æœ‰é€’å½’æ€æƒ³åœ¨å†…</span></span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> a, b, w;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++)  <span class="comment">// åˆå§‹åŒ–æ‰€æœ‰è¾¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; w;</span><br><span class="line">        edge[i] = &#123;a, b, w&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">sort</span>(edge, edge + m);  <span class="comment">// è¾¹æƒæ’åº</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) p[i] = i;  <span class="comment">// å¹¶æŸ¥é›†åˆå§‹åŒ–</span></span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>, cnt = <span class="number">0</span>;  <span class="comment">// cntè®°å½•è¾¹æ•°ï¼Œç†è®ºæœ€ç»ˆåº”æœ‰n-1æ¡è¾¹ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++)  <span class="comment">// æŒ‰è¾¹æƒå¤§å°ä»å°åˆ°å¤§éå†æ‰€æœ‰è¾¹ï¼Œè¿›è¡Œå¹¶æŸ¥é›†æ›´æ–°ä¸æƒå€¼å’Œçš„è®¡ç®—</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a = <span class="built_in">find</span>(edge[i].a), b = <span class="built_in">find</span>(edge[i].b), w = edge[i].w;</span><br><span class="line">        <span class="keyword">if</span> (a != b) &#123;</span><br><span class="line">            p[a] = b;</span><br><span class="line">            res += w;</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (cnt &lt; n<span class="number">-1</span>) cout &lt;&lt; <span class="string">&quot;impossible&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>acking</category>
      </categories>
      <tags>
        <tag>Search</tag>
      </tags>
  </entry>
</search>
